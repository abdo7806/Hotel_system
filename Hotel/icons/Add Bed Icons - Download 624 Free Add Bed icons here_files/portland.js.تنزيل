/*! For license information please see EzHeaderBidding.js.LICENSE.txt */
(()=>{var e={633:(e,t,r)=>{var i=r(738).default;function n(){"use strict";e.exports=n=function(){return r},e.exports.__esModule=!0,e.exports.default=e.exports;var t,r={},o=Object.prototype,a=o.hasOwnProperty,s=Object.defineProperty||function(e,t,r){e[t]=r.value},d="function"==typeof Symbol?Symbol:{},u=d.iterator||"@@iterator",l=d.asyncIterator||"@@asyncIterator",c=d.toStringTag||"@@toStringTag";function p(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(t){p=function(e,t,r){return e[t]=r}}function f(e,t,r,i){var n=t&&t.prototype instanceof g?t:g,o=Object.create(n.prototype),a=new F(i||[]);return s(o,"_invoke",{value:I(e,r,a)}),o}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}r.wrap=f;var v="suspendedStart",m="suspendedYield",b="executing",y="completed",_={};function g(){}function w(){}function B(){}var P={};p(P,u,(function(){return this}));var S=Object.getPrototypeOf,O=S&&S(S(x([])));O&&O!==o&&a.call(O,u)&&(P=O);var A=B.prototype=g.prototype=Object.create(P);function z(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(n,o,s,d){var u=h(e[n],e,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==i(c)&&a.call(c,"__await")?t.resolve(c.__await).then((function(e){r("next",e,s,d)}),(function(e){r("throw",e,s,d)})):t.resolve(c).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,d)}))}d(u.arg)}var n;s(this,"_invoke",{value:function(e,i){function o(){return new t((function(t,n){r(e,i,t,n)}))}return n=n?n.then(o,o):o()}})}function I(e,r,i){var n=v;return function(o,a){if(n===b)throw Error("Generator is already running");if(n===y){if("throw"===o)throw a;return{value:t,done:!0}}for(i.method=o,i.arg=a;;){var s=i.delegate;if(s){var d=j(s,i);if(d){if(d===_)continue;return d}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===v)throw n=y,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=b;var u=h(e,r,i);if("normal"===u.type){if(n=i.done?y:m,u.arg===_)continue;return{value:u.arg,done:i.done}}"throw"===u.type&&(n=y,i.method="throw",i.arg=u.arg)}}}function j(e,r){var i=r.method,n=e.iterator[i];if(n===t)return r.delegate=null,"throw"===i&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==i&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+i+"' method")),_;var o=h(n,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,_;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,_):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,_)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function F(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function x(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function r(){for(;++n<e.length;)if(a.call(e,n))return r.value=e[n],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(i(e)+" is not iterable")}return w.prototype=B,s(A,"constructor",{value:B,configurable:!0}),s(B,"constructor",{value:w,configurable:!0}),w.displayName=p(B,c,"GeneratorFunction"),r.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,B):(e.__proto__=B,p(e,c,"GeneratorFunction")),e.prototype=Object.create(A),e},r.awrap=function(e){return{__await:e}},z(k.prototype),p(k.prototype,l,(function(){return this})),r.AsyncIterator=k,r.async=function(e,t,i,n,o){void 0===o&&(o=Promise);var a=new k(f(e,t,i,n),o);return r.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},z(A),p(A,c,"Generator"),p(A,u,(function(){return this})),p(A,"toString",(function(){return"[object Generator]"})),r.keys=function(e){var t=Object(e),r=[];for(var i in t)r.push(i);return r.reverse(),function e(){for(;r.length;){var i=r.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},r.values=x,F.prototype={constructor:F,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&a.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(i,n){return s.type="throw",s.arg=e,r.next=i,n&&(r.method="next",r.arg=t),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var d=a.call(o,"catchLoc"),u=a.call(o,"finallyLoc");if(d&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(d){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&a.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var n=i;break}}n&&("break"===e||"continue"===e)&&n.tryLoc<=t&&t<=n.finallyLoc&&(n=null);var o=n?n.completion:{};return o.type=e,o.arg=t,n?(this.method="next",this.next=n.finallyLoc,_):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),_},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),_}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var i=r.completion;if("throw"===i.type){var n=i.arg;C(r)}return n}}throw Error("illegal catch attempt")},delegateYield:function(e,r,i){return this.delegate={iterator:x(e),resultName:r,nextLoc:i},"next"===this.method&&(this.arg=t),_}},r}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},738:e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},756:(e,t,r)=>{var i=r(633)();e.exports=i;try{regeneratorRuntime=i}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}}},t={};function r(i){var n=t[i];if(void 0!==n)return n.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=Array(t);r<t;r++)i[r]=e[r];return i}function i(e,r){if(e){if("string"==typeof e)return t(e,r);var i={}.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?t(e,r):void 0}}function n(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(t){var r=function(t){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,"string");if("object"!=e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(r)?r:r+""}function s(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,a(i.key),i)}}function d(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t){return function(){try{return e.apply(void 0,arguments)}catch(e){var r=function(e){return function(){reportEzError(e,"header-bidding."+t)}};"function"==typeof reportEzError?r(e):window.addEventListener("reportEzErrorDefined",r(e),{once:!0}),console.error(e)}}}function l(e,t){var r;void 0!==window.__ez&&null!==(r=window.__ez)&&void 0!==r&&null!==(r=r.queue)&&void 0!==r&&r.addFileOnce?window.__ez.queue.addFileOnce(e,t+"?cb=34&gcb=0",!0,[],!0,!1,!1,!0):setTimeout((function(){l(e,t)}),200)}function c(){var e;"undefined"!=typeof __ez&&__ez.fads&&__ez.fads.log&&(e=__ez.fads).log.apply(e,arguments)}var p={AD:"AND",AE:"ARE",AF:"AFG",AG:"ATG",AI:"AIA",AL:"ALB",AM:"ARM",AO:"AGO",AQ:"ATA",AR:"ARG",AS:"ASM",AT:"AUT",AU:"AUS",AW:"ABW",AX:"ALA",AZ:"AZE",BA:"BIH",BB:"BRB",BD:"BGD",BE:"BEL",BF:"BFA",BG:"BGR",BH:"BHR",BI:"BDI",BJ:"BEN",BL:"BLM",BM:"BMU",BN:"BRN",BO:"BOL",BQ:"BES",BR:"BRA",BS:"BHS",BT:"BTN",BV:"BVT",BW:"BWA",BY:"BLR",BZ:"BLZ",CA:"CAN",CC:"CCK",CD:"COD",CF:"CAF",CG:"COG",CH:"CHE",CI:"CIV",CK:"COK",CL:"CHL",CM:"CMR",CN:"CHN",CO:"COL",CR:"CRI",CU:"CUB",CV:"CPV",CW:"CUW",CX:"CXR",CY:"CYP",CZ:"CZE",DE:"DEU",DJ:"DJI",DK:"DNK",DM:"DMA",DO:"DOM",DZ:"DZA",EC:"ECU",EE:"EST",EG:"EGY",EH:"ESH",ER:"ERI",ES:"ESP",ET:"ETH",FI:"FIN",FJ:"FJI",FK:"FLK",FM:"FSM",FO:"FRO",FR:"FRA",GA:"GAB",GB:"GBR",GD:"GRD",GE:"GEO",GF:"GUF",GG:"GGY",GH:"GHA",GI:"GIB",GL:"GRL",GM:"GMB",GN:"GIN",GP:"GLP",GQ:"GNQ",GR:"GRC",GS:"SGS",GT:"GTM",GU:"GUM",GW:"GNB",GY:"GUY",HK:"HKG",HM:"HMD",HN:"HND",HR:"HRV",HT:"HTI",HU:"HUN",ID:"IDN",IE:"IRL",IL:"ISR",IM:"IMN",IN:"IND",IO:"IOT",IQ:"IRQ",IR:"IRN",IS:"ISL",IT:"ITA",JE:"JEY",JM:"JAM",JO:"JOR",JP:"JPN",KE:"KEN",KG:"KGZ",KH:"KHM",KI:"KIR",KM:"COM",KN:"KNA",KP:"PRK",KR:"KOR",KW:"KWT",KY:"CYM",KZ:"KAZ",LA:"LAO",LB:"LBN",LC:"LCA",LI:"LIE",LK:"LKA",LR:"LBR",LS:"LSO",LT:"LTU",LU:"LUX",LV:"LVA",LY:"LBY",MA:"MAR",MC:"MCO",MD:"MDA",ME:"MNE",MF:"MAF",MG:"MDG",MH:"MHL",MK:"MKD",ML:"MLI",MM:"MMR",MN:"MNG",MO:"MAC",MP:"MNP",MQ:"MTQ",MR:"MRT",MS:"MSR",MT:"MLT",MU:"MUS",MV:"MDV",MW:"MWI",MX:"MEX",MY:"MYS",MZ:"MOZ",NA:"NAM",NC:"NCL",NE:"NER",NF:"NFK",NG:"NGA",NI:"NIC",NL:"NLD",NO:"NOR",NP:"NPL",NR:"NRU",NU:"NIU",NZ:"NZL",OM:"OMN",PA:"PAN",PE:"PER",PF:"PYF",PG:"PNG",PH:"PHL",PK:"PAK",PL:"POL",PM:"SPM",PN:"PCN",PR:"PRI",PS:"PSE",PT:"PRT",PW:"PLW",PY:"PRY",QA:"QAT",RE:"REU",RO:"ROU",RS:"SRB",RU:"RUS",RW:"RWA",SA:"SAU",SB:"SLB",SC:"SYC",SD:"SDN",SE:"SWE",SG:"SGP",SH:"SHN",SI:"SVN",SJ:"SJM",SK:"SVK",SL:"SLE",SM:"SMR",SN:"SEN",SO:"SOM",SR:"SUR",SS:"SSD",ST:"STP",SV:"SLV",SX:"SXM",SY:"SYR",SZ:"SWZ",TC:"TCA",TD:"TCD",TF:"ATF",TG:"TGO",TH:"THA",TJ:"TJK",TK:"TKL",TL:"TLS",TM:"TKM",TN:"TUN",TO:"TON",TR:"TUR",TT:"TTO",TV:"TUV",TW:"TWN",TZ:"TZA",UA:"UKR",UG:"UGA",UM:"UMI",US:"USA",UY:"URY",UZ:"UZB",VA:"VAT",VC:"VCT",VE:"VEN",VG:"VGB",VI:"VIR",VN:"VNM",VU:"VUT",WF:"WLF",WS:"WSM",YE:"YEM",YT:"MYT",ZA:"ZAF",ZM:"ZMB",ZW:"ZWE"};function f(e){if(e){var t=e.toUpperCase();return p[t]}}const h=function(){var t=[];function r(e){epbjs.que.push((function(){for(var r=epbjs.getConfig().userSync.userIds||[],i=!1,n=0;n<r.length;n++)if(r[n].name===e.name){if(JSON.stringify(r[n])===JSON.stringify(e))return;i=!0,r[n]=e;break}-1===t.indexOf(e.name)&&t.push(e.name),i||r.push(e),epbjs.setConfig({userSync:{userIds:r}})}))}window.ezoicIdentity.queue.push(u((function(){window.ezoicIdentity.onIdentity((function(i){var n,o,a,s;o=!1,"true"===(null===(n=window._ez)||void 0===n||null===(n=n.tf)||void 0===n?void 0:n.disIdm)&&(o=!0),o||(window.ezoicIdentity.isIdentityReady()?((s=window.ezoicIdentity.getProviderId("uid2"))&&r({name:"uid2",params:{uid2Token:s}}),(a=window.ezoicIdentity.getProviderId("euid"))&&r({name:"euid",params:{euidToken:a}}),window.ezoicIdentity.getProviderId("id5")&&r({name:"id5Id",params:{partnerId:457,externalModuleUrl:"https://cdn.id5-sync.com/api/1.0/id5PrebidModule.js"},storage:{type:"html5",name:"id5id",expires:90,refreshInSeconds:28800}}),function(){if(void 0!==window.__ezLiveRampConsent&&1==window.__ezLiveRampConsent&&"object"==e(window.ats)&&window.ats.envelopeModuleLoaded&&void 0!==window.ezoicIdentity&&"function"==typeof window.ezoicIdentity.getUID){var t=window.ezoicIdentity.getUID();if(t.email){var r=[];["sha256","sha1","md5"].forEach((function(e){t.email[e]&&r.push(t.email[e])})),r.length>0&&window.ats.setAdditionalData({type:"emailHashes",id:r}),t.email.email&&window.ats.setAdditionalData({type:"email",id:t.email.email})}t.phone&&(t.phone.sha256&&window.ats.setAdditionalData({type:"phoneNumberHashes",id:[t.phone.sha256]}),t.phone.phone&&window.ats.setAdditionalData({type:"phoneNumber",id:t.phone.phone}))}}(),"undefined"!=typeof ez__sspDomain&&"undefined"!=typeof ez__uIdHash&&r({name:"pubProvidedId",params:{eids:[{source:ez__sspDomain,uids:[{id:ez__uIdHash,atype:3,ext:{stype:"ppuid"}}]}]}}),epbjs.que.push((function(){0!==t.length&&epbjs.refreshUserIds({submoduleNames:t},(function(){c("IDs setIDs: Updated modules: "+t.join(", ")),t=[],epbjs.registerSignalSources()}))}))):setTimeout((function(){}),50))}))}),"init"))},v=function(){u((function(){"undefined"!=typeof window&&(l("identity","https://go.ezodn.com/detroitchicago/indy.js"),window.ezoicIdentity=window.ezoicIdentity||{},window.ezoicIdentity.queue=window.ezoicIdentity.queue||[],h())}),"modselect")()};void 0!==window.ezptlog&&!0===window.ezptlog&&(window.epbjs=window.epbjs||{},window.epbjs.que=window.epbjs.que||[]);const m=function(){return d((function e(){o(this,e),window.epbjs=window.epbjs||{},epbjs=window.epbjs||{},epbjs.que=epbjs.que||[],epbjs.ezAdUnits=epbjs.ezAdUnits||[],epbjs.ezdss=epbjs.ezdss||[],epbjs.ezas=epbjs.ezas||[],epbjs.ezobid=epbjs.ezobid||[],window.ezoptbid=window.ezoptbid||[],this.videoHBEnabled="undefined"!=typeof __ezInstream||"undefined"!=typeof __ezOutstream}),[{key:"init",value:function(){var e=this;u((function(){v(),e.setUpGlobalFunctions(),e.setUpConfigs(),void 0!==__ez.fads&&1!=__ez.fads.isJIT&&e.setUpEventListeners()}),"EpbjsController.init")()}},{key:"setUpGlobalFunctions",value:function(){window.getSlotForhb=u((function(e){for(var t in window.ezslots)if(window[window.ezslots[t]].getSlotElementId()==e)return window[window.ezslots[t]]}),"getSlotForhb"),window.epbjsRequestAdUnits=u((function(e){if(void 0!==window.ezoResponsiveSizes)for(var t=0;t<e.length;t++)e[t]=window.epbjsApplyResponsiveSizes(e[t]);void 0!==window.ezstandalone?epbjs.que.push(u((function(){for(var t in e){var r=e[t];epbjs.removeAdUnit(r.code);var i=!1;for(var n in epbjs.ezAdUnits)epbjs.ezAdUnits[n].code==r.code&&(epbjs.ezAdUnits[n]=JSON.parse(JSON.stringify(r)),i=!0);i||epbjs.ezAdUnits.push(JSON.parse(JSON.stringify(r)))}epbjs.addAdUnits(e)}),"epbjsRequestAdUnits.1")):epbjs.que.push(u((function(){epbjs.ezAdUnits=JSON.parse(JSON.stringify(e)),epbjs.addAdUnits(e)}),"epbjsRequestAdUnits.2")),epbjsBidRequest(e)}),"epbjsRequestAdUnits"),window.epbjsBidRequest=u((function(e){epbjs.que.push(u((function(){for(var t={},r=0;r<e.length;r++){if(void 0!==epbjs.ezBidCache&&epbjs.ezBidCache.hasBidForAdUnit(e[r].code)){var i=epbjs.ezBidCache.getTopBidEventForAdUnit(e[r].code);null!==i&&(t[e[r].code]={bids:i})}window.setAuctionActive(e[r].code)}t.length>0&&("function"==typeof window.ezosethbbids?window.ezosethbbids(t):window.ezosethbbidsInterval=setInterval((function(e){"function"==typeof ezosethbbids&&ezosethbbids(e)}),130,t)),epbjs.requestBids({adUnits:e,bidsBackHandler:function(e){"function"==typeof window.ezosethbbids?window.ezosethbbids(e):window.ezosethbbidsInterval=setInterval((function(e){"function"==typeof ezosethbbids&&ezosethbbids(e)}),130,e)}})}),"epbjsBidRequest.1"))}),"epbjsBidRequest"),window.epbjsApplyResponsiveSizes=u((function(e){if(void 0===window.ezoResponsiveSizes||void 0===window.ezoResponsiveSizes[e.code])return e;for(var t=!1,r=[],i=0;i<ezoResponsiveSizes[e.code].responsiveSizes.length;i++){var n=ezoResponsiveSizes[e.code].responsiveSizes[i];0===n.minWidth&&0===n.minHeight&&(t=!0);var o=n.sizes;n.altSizes&&(o=o.concat(n.altSizes)),r.push({minViewPort:[n.minWidth,n.minHeight],sizes:o})}return t||(r=[{minViewPort:[0,0],sizes:[]}].concat(r)),e.mediaTypes={banner:{sizeConfig:r}},e}),"epbjsApplyResponsiveSizes"),window.epbjsRefreshSlot=u((function(e){epbjs.que.push(u((function(){window.setAuctionActive(e.getSlotElementId()),epbjs.requestBids({adUnitCodes:[e.getSlotElementId()],bidsBackHandler:function(t){if(epbjs.setPAAPIConfigForGPT(),epbjs.fastLoadAuctionEnd=!0,window.ezosethbbids(t),void 0!==epbjs.ezBidCache){var r=epbjs.ezBidCache.getTopBidEventForAdUnit(e.getSlotElementId());null!==r&&(r.from_cache=!0,window.ezosethbbid(r))}}})}),"epbjsRefreshSlot.1"))}),"epbjsRefreshSlot"),window.setAuctionActive=u((function(e){window.activeAuctions=window.activeAuctions||{},window.activeAuctions[e]=!0}),"setAuctionActive"),window.setAuctionFinished=u((function(e){window.activeAuctions&&delete window.activeAuctions[e],window.isHbFinished=!0}),"setAuctionFinished"),window.isValid256Hash=u((function(e){return null!==e.match(/^[a-fA-F0-9]{64}$/g)}),"isValid256Hash")}},{key:"setUpCriteoUserIds",value:function(e){var t,r,i=this;if("undefined"!=typeof ez__sspDomain){var n;if(null!==(t=window.ezoicIdentity)&&void 0!==t&&t.getUID){if(!(n=window.ezoicIdentity.getUID())&&e&&Date.now()-e<=2e3)return void setTimeout((function(){i.setUpCriteoUserIds(e)}),50)}else if(e&&Date.now()-e<=2e3)return void setTimeout((function(){i.setUpCriteoUserIds(e)}),50);var o=[];null!==(r=n)&&void 0!==r&&null!==(r=r.email)&&void 0!==r&&r.sha256?(o.push({id:n.email.sha256,atype:3,ext:{stype:"hemsha256"}}),n.email.md5&&o.push({id:n.email.md5,atype:3,ext:{stype:"hemmd5"}})):"undefined"!=typeof ez__uIdHash&&o.push({id:ez__uIdHash,atype:1,ext:{stype:"ppuid",persistence:"js"}}),o.length>0&&epbjs.setBidderConfig({bidders:["criteo"],config:{ortb2:{user:{ext:{data:{eids:[{source:ez__sspDomain,uids:o}]}}}}},fledgeEnabled:!0,defaultForSlots:1},!0)}}},{key:"setUpConfigs",value:function(){var e=this;epbjs.que.push(u((function(){1==window.__enableAnalytics&&epbjs.enableAnalytics([{provider:"ga",options:{trackerName:"gatestprebid"}}]),epbjs.enableAnalytics([{provider:"atsAnalytics",options:{pid:"14067"}}]);var t={usp:{cmpApi:"iab",timeout:0}};"function"==typeof window.__gpp&&(t.gpp={cmpApi:"iab",timeout:0}),"function"==typeof window.__tcfapi&&(t.strictStorageEnforcement=!0,t.gdpr={cmpApi:"iab",timeout:12e4,defaultGdprScope:!0});var r={};!0===window.ezhbopt?r.buckets=[{precision:2,min:0,max:300,increment:.01}]:r.buckets=[{precision:2,min:0,max:5,increment:.01},{precision:2,min:5,max:50,increment:.1},{precision:2,min:50,max:120,increment:5}],epbjs.aliasBidder("aol","onedisplay"),epbjs.aliasBidder("aol","onemobile");var i=!1;void 0===window.ezpbCache&&(i=!0);var o=[{name:"criteo"},{name:"unifiedId",params:{url:"//match.adsrvr.org/track/rid?ttd_pid=muno13d&fmt=json"},storage:{type:"cookie",name:"pbjs-unifiedid",expires:60}},{name:"quantcastId"},{name:"amxId",storage:{name:"amxId",type:"html5",expires:1}},{name:"sharedId",params:{},storage:{type:"cookie",name:"_sharedid",expires:365}},{name:"lotamePanoramaId"},{name:"hadronId",params:{partnerId:524}},{name:"33acrossId",params:{pid:"0010b00002MpnPqAAJ"},storage:{name:"33acrossId",type:"html5",expires:90,refreshInSeconds:28800}},{name:"pairId",params:{liveramp:{storageKey:"_lr_pairId"}}}],a={name:"id5Id",params:{partner:457},storage:{type:"html5",name:"id5id",expires:90,refreshInSeconds:28800}};"undefined"!=typeof ez__id5pd&&(a.params.pd=ez__id5pd),o.push(a);var s={name:"connectId",params:{pixelId:58713}};o.push({name:"identityLink",params:{pid:"14067",notUse3P:!1},storage:{type:"cookie",name:"idl_env",expires:15,refreshInSeconds:1800}}),"undefined"!=typeof ez_yahoo_cid_he&&isValid256Hash(ez_yahoo_cid_he)&&(s.params.he=ez_yahoo_cid_he),o.push(s);var d="";"undefined"!=typeof __sellerid&&(d=__sellerid);var u,l={asi:"ezoic.ai",sid:d,hp:1};u="undefined"!=typeof __allSiteApprovedBidders?__allSiteApprovedBidders:"*";var p={};if("undefined"!=typeof __s2sbidders&&__s2sbidders.length>0||"undefined"!=typeof __s2sinstreambidders&&__s2sinstreambidders.length>0||"undefined"!=typeof __s2soutstreambidders&&__s2soutstreambidders.length>0){var h=[];if("undefined"!=typeof __s2sbidders&&__s2sbidders.length>0&&h.push.apply(h,n(__s2sbidders)),"undefined"!=typeof __s2sinstreambidders&&__s2sinstreambidders.length>0&&h.push.apply(h,n(__s2sinstreambidders)),"undefined"!=typeof __s2soutstreambidders&&__s2soutstreambidders.length>0&&h.push.apply(h,n(__s2soutstreambidders)),p={accountId:"1",bidders:h,enabled:!0,endpoint:"https://pbserver.ezoic.com/openrtb2/auction",syncEndpoint:"https://pbserver.ezoic.com/cookie_sync",extPrebid:{targeting:{pricegranularity:{ranges:[{max:300,increment:.01}]},includewinners:!0,includebidderkeys:!0},cache:{vastxml:{returnCreative:!0},bids:{returnCreative:!0}},aliases:{amx_s2s:"amx",ix_s2s:"ix",inmobi_s2s:"inmobi",medianet_s2s:"medianet",pubmatic_s2s:"pubmatic",sovrn_s2s:"sovrn",openx_s2s:"openx",rubicon_s2s:"rubicon",onetag_s2s:"onetag",sharethrough_s2s:"sharethrough",unruly_s2s:"unruly","33across_i_s2s":"33across",ix_i_s2s:"ix",inmobi_i_s2s:"inmobi",medianet_i_s2s:"medianet",onetag_i_s2s:"onetag",openx_i_s2s:"openx",pubmatic_i_s2s:"pubmatic",rubicon_i_s2s:"rubicon",sharethrough_i_s2s:"sharethrough",triplelift_i_s2s:"triplelift",unruly_i_s2s:"unruly",vidoomy_i_s2s:"vidoomy","33across_o_s2s":"33across",ix_o_s2s:"ix",inmobi_o_s2s:"inmobi",medianet_o_s2s:"medianet",onetag_o_s2s:"onetag",openx_o_s2s:"openx",pubmatic_o_s2s:"pubmatic",rubicon_o_s2s:"rubicon",sharethrough_o_s2s:"sharethrough",triplelift_o_s2s:"triplelift",unruly_o_s2s:"unruly"}}},"undefined"!=typeof epbjs&&epbjs.SS)for(var v in p.extPrebid.aliases){var m=p.extPrebid.aliases[v];if(epbjs.SS.hasOwnProperty(m)){var b=epbjs.SS[m];epbjs.SS[v]=b}}}var y={};try{var _,g,w,B,P,S,O,A,z,k;y={site:{name:document.title,cattax:6,cat:[],sectioncat:[],pagecat:((null===(_=window._ezaq)||void 0===_?void 0:_.page_iab_categories)||[]).map((function(e){return e.toString()})),page:location.href,ref:document.referrer,keywords:(null===(g=document.querySelector('meta[name="keywords"]'))||void 0===g?void 0:g.content)||""},video:{minbitrate:300,maxbitrate:96e3}},window.__ez&&window.__ez.tf&&"true"==window.__ez.tf.siteIAB&&(y.site.cat=((null===(O=window._ezaq)||void 0===O?void 0:O.site_iab_categories)||[]).map((function(e){return e.toString()}))),null!==(w=window._ezaq)&&void 0!==w&&w.first_party_signals_page_categories&&(y.site.pagecat=((null===(A=window._ezaq)||void 0===A?void 0:A.first_party_signals_page_categories)||[]).split(",").map((function(e){return e.trim()}))),null!==(B=window._ezaq)&&void 0!==B&&B.first_party_signals_domain_categories&&(y.site.cat=((null===(z=window._ezaq)||void 0===z?void 0:z.first_party_signals_domain_categories)||[]).split(",").map((function(e){return e.trim()}))),null!==(P=window._ezaq)&&void 0!==P&&P.first_party_signals_keywords&&(y.site.keywords=null===(k=window._ezaq)||void 0===k?void 0:k.first_party_signals_keywords);var I="undefined"!=typeof _ezaq?_ezaq.domain:"";if(""!=I&&(y.site.domain=I),y.site.mobile=1,y.site.privacypolicy=1,y.device=y.device||{},y.device.ua=navigator.userAgent,y.device.dnt="1"===navigator.doNotTrack?1:0,y.device.devicetype=2,y.device.js=1,/mobile/i.test(navigator.userAgent)?y.device.devicetype=4:/tablet/i.test(navigator.userAgent)&&(y.device.devicetype=5),null!==(S=window._ezaq)&&void 0!==S&&S.country){var j=window._ezaq,T=j.country,C=j.state,F={country:f(T)||"USA"};if(C){var x=function(e,t){if(e&&t){var r=e.toUpperCase(),i=t.toUpperCase();return"US"===r?i:"".concat(r,"-").concat(i)}}(T,C);x&&(F.region=x)}y.user=y.user||{},y.user.geo=F,y.device=y.device||{},y.device.geo=F}}catch(e){c("Error setting up ortb2",e)}epbjs.setConfig({gptPreAuction:{enabled:!0,mcmEnabled:!0},minBidCacheTTL:300,eventHistoryTTL:10,criteo:{fastBidVersion:"latest"},bidderTimeout:void 0===epbjs.bidderTimeout||0===epbjs.bidderTimeout?2500:epbjs.bidderTimeout,useBidCache:i,schain:{validation:"strict",config:{ver:"1.0",complete:1,nodes:[l]}},priceGranularity:r,userSync:{userIds:o,filterSettings:{iframe:{bidders:u,filter:"include"},image:{bidders:u,filter:"include"}},syncDelay:3e3,aliasSyncEnabled:!0,auctionDelay:500,encryptedSignalSources:{sources:[{source:["id5-sync.com","sharedid.org","pubcid.org","uidapi.com","criteo.com"],encrypt:!1}]},topics:{maxTopicCaller:4,bidders:[{bidder:"pubmatic",iframeURL:"https://ads.pubmatic.com/AdServer/js/topics/topics_frame.html",expiry:7},{bidder:"openx",iframeURL:"https://pa.openx.net/topics_frame.html",expiry:7},{bidder:"onetag",iframeURL:"https://onetag-sys.com/static/topicsapi.html",expiry:7}]}},s2sConfig:p,consentManagement:t,bidderSequence:"fixed",enableTIDs:!0,paapi:{enabled:!0,gpt:{autoconfig:!1},defaultForSlots:1},disableAjaxTimeout:!0,ortb2:y});var U="https://pbcache.ezoic.com/cache",R=3e3;"undefined"!=typeof _ezaq&&(_ezaq.hasOwnProperty("ab_test_id")&&"mod118"==_ezaq.ab_test_id&&(U="https://prebid.adnxs.com/pbc/v1/cache"),_ezaq.hasOwnProperty("country")&&"US"!=_ezaq.country&&(R=6e3)),epbjs.setConfig({cache:{url:U,ignoreBidderCacheKey:!0,timeout:R},rubicon:{disableFloors:!0}}),void 0!==__allBidders.find((function(e){return"yahoossp"===e.bidder}))&&epbjs.setConfig({yahoossp:{mode:"all"}}),e.setUpCriteoUserIds(Date.now()),epbjs.bidderSettings=epbjs.bidderSettings||{},epbjs.bidderSettings.standard={adserverTargeting:[{key:"epb",val:function(e){return e.bidderCode}},{key:"epa",val:function(e){return e.adId}},{key:"epp",val:function(e){return e.pbCg}},{key:"epf",val:function(e){return e.mediaType}},{key:"eps",val:function(e){var t=e.bidder;if("ehb"==e.bidder)return 0;if(void 0!==epbjs.SS[t.toLowerCase()])return epbjs.SS[t.toLowerCase()];if(void 0!==epbjs.SS[t.toLowerCase()])return epbjs.SS[t.toLowerCase()];if("video"!==e.mediaType)return console.error("epbjs: NO MATCH",e.bidder,epbjs.SS),0;var r={};return"undefined"!=typeof __ezInstream&&__ezInstream.hasOwnProperty("prebidBidders")&&__ezInstream.prebidBidders.map((function(e){void 0!==e.ssid&&(r[e.bidder]=parseInt(e.ssid))})),"undefined"!=typeof __ezOutstream&&__ezOutstream.hasOwnProperty("prebidBidders")&&__ezOutstream.prebidBidders.map((function(e){void 0!==e.ssid&&(r[e.bidder]=parseInt(e.ssid))})),r.hasOwnProperty(e.bidder)?r[e.bidder]:void 0}},{key:"epr",val:function(e){return e.source}}],storageAllowed:!0}}),"setUpConfigs"))}},{key:"getAllVideoProviders",value:function(){var e=[];return videojs&&videojs.getAllPlayers().forEach((function(t){var r={divId:t.id_,vendorCode:2,playerConfig:{params:{adPluginConfig:{numRedirects:10},vendorConfig:{controls:!1,autoplay:!0,preload:"auto"}}}};e.push(r)})),e}},{key:"setUpEventListeners",value:function(){epbjs.que.push((function(){epbjs.onEvent("bidWon",(function(t){var r=getSlotForhb(t.adUnitCode);if("true"==new URL(window.location.href).searchParams.get("ez_hb_fill_debug")){console.log("[EZ_HB_FILL_DEBUG]:",t.adUnitCode,"\nAd Network:",t.bidder,"\nPlaceholder ID:",parseInt(r.getTargeting("ap")[0])%1e3,"\nSize:",t.size,"\nAdvertiser Info:",t.meta,"\nRequest params:",t.params,"\nSource:",t.source,"\nFull bid info:",t);var i=document.createElement("h4");i.innerText="Ad Network: "+t.bidder+" "+t.source,i.style="color:black;background-color:white;border:solid green;";var n=document.getElementById(t.adUnitCode);null!=n&&n.children.length>0&&n.children[0].insertAdjacentElement("afterbegin",i)}var o=r.getTargeting("ic")[0];if(void 0!==o){var a=parseInt(o);isNaN(a)||__ez.pel.Add(r,[new __ezDotData("refresh_count",a)])}var s=r.getTargeting("eb_br")[0];void 0!==s&&__ez.pel.Add(r,[new __ezDotData("filled_bid_hash",s)]);var d=0;void 0!==r.getTargeting("lb")[0]&&(d=parseInt(r.getTargeting("lb")[0])/1e5);var u=t.bidder.toLowerCase(),l=0;void 0!==epbjs.SS[u]&&(l=epbjs.SS[u],__ez.pel.Add(r,[new __ezDotData("stat_source_id",l)],t.cpm/1e3,0,t.cpm/1e3,d,l));var c=r.getTargeting("hb_rt");if(void 0!==e(c)&&c.length>0&&""!==String(c[0])){var p=String(c[0]);__ez.pel.Add(r,[new __ezDotData("prebid_source",p)])}var f=t.cpm/1e3;__ez.pel.Add(r,[new __ezDotData("loaded",1)],f,0,f,d,l),__ez.bit.Add(window._ezaq.page_view_id,[new __ezDotData("est_revenue_usd",f)])})),epbjs.onEvent("bidResponse",(function(t){if("object"==e(epbjs.bidderSettings)&&t.bidder in epbjs.bidderSettings&&"function"==typeof epbjs.bidderSettings[t.bidder].bidCpmAdjustment){var r=Math.floor(100*epbjs.bidderSettings[t.bidder].bidCpmAdjustment(t.cpm,t))/100;void 0===r||isNaN(r)||(t.cpm=r,t.pbCg=r,t.adserverTargeting.epp=r)}if(void 0!==epbjs.ezBidCache){epbjs.ezBidCache.setHigherBidForAdUnit(t);var i=epbjs.ezBidCache.getTopBidEventForAdUnit(t.adUnitCode);null!==i&&(t=i)}window.ezosethbbid(t)})),epbjs.onEvent("auctionEnd",(function(e){var t,r=function(r){window.setAuctionFinished(e.adUnitCodes[r]),void 0!==window.nbabt&&!0===window.nbabt&&(t=window.ezslots.filter((function(t){return window[t].getSlotElementId()===e.adUnitCodes[r]}))).length>0&&""!=window[t[0]].getTargeting("hb_opt")[0]&&window.adjustHbValues&&window.adjustHbValues(window[t[0]])};for(var i in e.adUnitCodes)r(i);window.PrebidImpressionController&&(window.PrebidImpressionController.recordAuctionEndImpressions(e),window.PrebidImpressionController.batchFireAll())})),epbjs.onEvent("bidWon",(function(e){window.triggerPbjsAdWin(e),window.PrebidImpressionController&&window.PrebidImpressionController.recordAndFireImpressionWonEvent(e)})),window.triggerPbjsAdWin=function(e){var t=e.bidder;epbjs.ezas[e.adUnitCode]=e.size,"ehb"==t?epbjs.ezdss[e.adUnitCode]=e.ss:void 0!==epbjs.SS[t.toLowerCase()]?(epbjs.ezdss[e.adUnitCode]=epbjs.SS[t.toLowerCase()],1==epbjs.useAdj&&epbjs.bidders.indexOf(e.bidder)>-1&&(epbjs.ezobid[e.adUnitCode]=e.cpm/epbjs.gadj)):void 0!==epbjs.SS[t.toLowerCase()]?(epbjs.ezdss[e.adUnitCode]=epbjs.SS[t.toLowerCase()],1==epbjs.useAdj&&epbjs.bidders.indexOf(t.toLowerCase())>-1&&(epbjs.ezobid[e.adUnitCode]=e.cpm/epbjs.gadj)):console.error("epbjs: NO MATCH",e.bidder,epbjs.SS),void 0!==epbjs.ezBidCache&&epbjs.ezBidCache.clearBidForUnit(e.adUnitCode,e.bidderCode)}}))}}])}();function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var i,n,o,a,s=[],d=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;d=!1}else for(;!(d=(i=o.call(r)).done)&&(s.push(i.value),s.length!==t);d=!0);}catch(e){u=!0,n=e}finally{try{if(!d&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw n}}return s}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t,r,i,n,o,a){try{var s=e[o](a),d=s.value}catch(e){return void r(e)}s.done?t(d):Promise.resolve(d).then(i,n)}function _(e){return function(){var t=this,r=arguments;return new Promise((function(i,n){var o=e.apply(t,r);function a(e){y(o,i,n,a,s,"next",e)}function s(e){y(o,i,n,a,s,"throw",e)}a(void 0)}))}}function g(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w=r(756),B=r.n(w),P={epb:"hb_bidder",epa:"hb_adid",epp:"hb_pb",epf:"hb_format",eps:"hb_ssid"},S="prebid",O="aps",A="https://vastproxy.ezoic.net";function z(e,t,r){return new Promise((function(i,n){var o=function(){window.hasOwnProperty(e)&&(clearTimeout(a),clearInterval(s),i(window[e]))},a=setTimeout((function(){n("Variable not found.")}),t),s=setInterval(o,r);o()}))}function k(){if(I()){var e=Array.from(arguments);e.unshift("[Video HB]"),console.log.apply(console,e)}}function I(){return"1"===new URLSearchParams(window.location.search).get("ez_vhb_debug")}function j(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?window.__ezOutstream:window.__ezInstream;return void 0!==e&&void 0!==e.monetizationApproval&&e.monetizationApproval.MCMApproved}function T(t,r){if(r&&("object"==e(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t)}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}function F(e,t){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},F(e,t)}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F(e,t)}var U=function(){return d((function e(t){o(this,e),this.bidderName=t}),[{key:"applyBidParams",value:function(e,t){return e}},{key:"applyAdUnitParams",value:function(e,t){return e}},{key:"applyAbTestParams",value:function(e,t){var r,i;if(e.bidder.includes("ttd"))return e;var n,o,a=t.isOutstream,s=t.player;return"true"===(null===(r=__ez)||void 0===r||null===(r=r.tf)||void 0===r?void 0:r.vappp)&&!a&&null!=s&&s.isCurrentlyFloating()&&3===(null===(n=e.params)||void 0===n||null===(n=n.video)||void 0===n?void 0:n.pos)&&(e.params.video.pos=2),"1"===(null===(i=__ez)||void 0===i||null===(i=i.tf)||void 0===i?void 0:i.vappp)&&(null==e||null===(o=e.params)||void 0===o||null===(o=o.video)||void 0===o?void 0:o.pos)>1&&(e.params.video.pos=1),e}},{key:"convertPlcmtToPlacement",value:function(e){return 1==e||2==e?1:5}}])}();function R(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(R=function(){return!!e})()}var L=function(e){function t(){return o(this,t),e=this,i=["33across"],r=C(r=t),T(e,R()?Reflect.construct(r,i||[],C(e).constructor):r.apply(e,i));var e,r,i}return x(t,e),d(t,[{key:"applyBidParams",value:function(e,t){var r,i=t.isOutstream,n=t.prebidParams;return i&&"instream"===(null===(r=e.params)||void 0===r?void 0:r.productId)&&4===(null==n?void 0:n.plcmt)&&(e.params.productId="siab"),e}}])}(U);function E(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(E=function(){return!!e})()}var M=function(e){function t(){return o(this,t),e=this,i=["adtelligent"],r=C(r=t),T(e,E()?Reflect.construct(r,i||[],C(e).constructor):r.apply(e,i));var e,r,i}return x(t,e),d(t)}(U);function D(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(D=function(){return!!e})()}var V=function(e){function t(){return o(this,t),e=this,i=["amx"],r=C(r=t),T(e,D()?Reflect.construct(r,i||[],C(e).constructor):r.apply(e,i));var e,r,i}return x(t,e),d(t)}(U);function N(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(N=function(){return!!e})()}var H=function(e){function t(){return o(this,t),e=this,i=["appnexus"],r=C(r=t),T(e,N()?Reflect.construct(r,i||[],C(e).constructor):r.apply(e,i));var e,r,i}return x(t,e),d(t,[{key:"getContextParamValue",value:function(e,t){if(t)return"outstream";switch(e){case"start":return"pre_roll";case"end":return"post_roll";default:return"mid_roll"}}},{key:"applyBidParams",value:function(e,t){var r=t.shouldSendBidFloor,i=t.floorVal,n=t.isOutstream,o=t.minDur,a=t.maxDur,s=t.skippable,d=t.timeOffset,u=this.getContextParamValue(d,n);return r&&(e.params.reserve=i),e.params.video||(e.params.video={}),e.params.video.context=u,e.params.video.playback_method="auto_play_sound_off",e.params.video.protocols=[2,6],e.params.video.minduration=o,e.params.video.maxduration=a,e.params.video.skippable=s,e}}])}(U);function G(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(G=function(){return!!e})()}var q=function(e){function t(){return o(this,t),e=this,i=["compass"],r=C(r=t),T(e,G()?Reflect.construct(r,i||[],C(e).constructor):r.apply(e,i));var e,r,i}return x(t,e),d(t)}(U);function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function K(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(K=function(){return!!e})()}var Y=function(e){function t(){return o(this,t),e=this,i=["criteo"],r=C(r=t),T(e,K()?Reflect.construct(r,i||[],C(e).constructor):r.apply(e,i));var e,r,i}return x(t,e),d(t,[{key:"applyBidParams",value:function(e,t){var r=t.prebidParams;return e.params.video=J(J({},JSON.parse(JSON.stringify(r))),{},{placement:this.convertPlcmtToPlacement(r.plcmt)}),e}}])}(U);function Z(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Z=function(){return!!e})()}var Q=function(e){function t(){return o(this,t),e=this,i=["eplanning"],r=C(r=t),T(e,Z()?Reflect.construct(r,i||[],C(e).constructor):r.apply(e,i));var e,r,i}return x(t,e),d(t)}(U);function $(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return($=function(){return!!e})()}var X=function(e){function t(){return o(this,t),e=this,i=["insticator"],r=C(r=t),T(e,$()?Reflect.construct(r,i||[],C(e).constructor):r.apply(e,i));var e,r,i}return x(t,e),d(t,[{key:"applyBidParams",value:function(e,t){var r=t.shouldSendBidFloor,i=t.floorVal;return r&&(e.params.floor=i),e}}])}(U);function ee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ee=function(){return!!e})()}var te=function(e){function t(){return o(this,t),e=this,i=["insticator"],r=C(r=t),T(e,ee()?Reflect.construct(r,i||[],C(e).constructor):r.apply(e,i));var e,r,i}return x(t,e),d(t,[{key:"applyBidParams",value:function(e,t){var r=t.shouldSendBidFloor,i=t.floorVal;return r&&(e.params.floor=i),e.params.publisherId||(e.params.publisherId="ezoic"),e}}])}(U);function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function ie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ie=function(){return!!e})()}var ne=function(e){function t(){return o(this,t),e=this,i=["ix"],r=C(r=t),T(e,ie()?Reflect.construct(r,i||[],C(e).constructor):r.apply(e,i));var e,r,i}return x(t,e),d(t,[{key:"applyBidParams",value:function(e,t){var r=t.prebidParams;return e.params.video=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},JSON.parse(JSON.stringify(r))),Array.isArray(e.params.video.api)&&(e.params.video.api=[2]),e}}])}(U);function oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function ae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ae=function(){return!!e})()}var se=function(e){function t(){return o(this,t),e=this,i=["medianet"],r=C(r=t),T(e,ae()?Reflect.construct(r,i||[],C(e).constructor):r.apply(e,i));var e,r,i}return x(t,e),d(t,[{key:"applyBidParams",value:function(e,t){var r=t.shouldSendBidFloor,i=t.floorVal,n=t.prebidParams;return r&&(e.params.bidfloor=i),e.params.video=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},JSON.parse(JSON.stringify(n))),e}}])}(U);function de(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(de=function(){return!!e})()}var ue=function(e){function t(){return o(this,t),e=this,i=["minutemedia"],r=C(r=t),T(e,de()?Reflect.construct(r,i||[],C(e).constructor):r.apply(e,i));var e,r,i}return x(t,e),d(t,[{key:"applyBidParams",value:function(e,t){var r=t.shouldSendBidFloor,i=t.floorVal;return r&&(e.params.floorPrice=i),e}}])}(U);function le(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(le=function(){return!!e})()}var ce=function(e){function t(){return o(this,t),e=this,i=["nobid"],r=C(r=t),T(e,le()?Reflect.construct(r,i||[],C(e).constructor):r.apply(e,i));var e,r,i}return x(t,e),d(t,[{key:"applyBidParams",value:function(e,t){var r=t.minDur,i=t.maxDur,n=t.prebidParams,o=t.skippable;return e.params.video={minduration:r,maxduration:i,mimes:n.mimes,skippable:o},e}}])}(U);function pe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(pe=function(){return!!e})()}var fe=function(e){function t(){return o(this,t),e=this,i=["onetag"],r=C(r=t),T(e,pe()?Reflect.construct(r,i||[],C(e).constructor):r.apply(e,i));var e,r,i}return x(t,e),d(t)}(U);function he(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(he=function(){return!!e})()}var ve=function(e){function t(){return o(this,t),e=this,i=["openx"],r=C(r=t),T(e,he()?Reflect.construct(r,i||[],C(e).constructor):r.apply(e,i));var e,r,i}return x(t,e),d(t,[{key:"applyBidParams",value:function(e,t){var r=t.shouldSendBidFloor,i=t.floorVal;return r&&(e.params.customFloor=i),e}}])}(U);function me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?me(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):me(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ye(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ye=function(){return!!e})()}var _e=function(e){function t(){return o(this,t),e=this,i=["pubmatic"],r=C(r=t),T(e,ye()?Reflect.construct(r,i||[],C(e).constructor):r.apply(e,i));var e,r,i}return x(t,e),d(t,[{key:"applyBidParams",value:function(e,t){t.shouldSendBidFloor,t.floorVal;var r=t.prebidParams;return t.isOutstream&&(e.renderer={url:"https://imasdk.googleapis.com/js/sdkloader/ima3.js",render:function(e){},backupOnly:!0}),e.params.video=be(be({},JSON.parse(JSON.stringify(r))),{},{placement:this.convertPlcmtToPlacement(r.plcmt)}),e}}])}(U);function ge(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ge=function(){return!!e})()}var we=function(e){function t(){return o(this,t),e=this,i=["pulsepoint"],r=C(r=t),T(e,ge()?Reflect.construct(r,i||[],C(e).constructor):r.apply(e,i));var e,r,i}return x(t,e),d(t,[{key:"applyBidParams",value:function(e,t){var r=t.shouldSendBidFloor,i=t.floorVal;return r&&(e.params.bidfloor=i),e}}])}(U);function Be(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Be=function(){return!!e})()}var Pe=function(e){function t(){return o(this,t),e=this,i=["rise"],r=C(r=t),T(e,Be()?Reflect.construct(r,i||[],C(e).constructor):r.apply(e,i));var e,r,i}return x(t,e),d(t,[{key:"applyBidParams",value:function(e,t){var r=t.shouldSendBidFloor,i=t.floorVal;return r&&(e.params.floorPrice=i),e}}])}(U);function Se(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Se=function(){return!!e})()}var Oe=function(e){function t(){return o(this,t),e=this,i=["rubicon"],r=C(r=t),T(e,Se()?Reflect.construct(r,i||[],C(e).constructor):r.apply(e,i));var e,r,i}return x(t,e),d(t,[{key:"applyBidParams",value:function(e,t){var r=t.isOutstream,i=t.language;return t.skippable,t.shouldSendBidFloor,r?e.params.video={playerWidth:400,playerHeight:300}:(e.params.video||(e.params.video={}),e.params.video.language=i,e.params.video.playerWidth=640,e.params.video.playerHeight=480),e}}])}(U);function Ae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ae=function(){return!!e})()}var ze=function(e){function t(){return o(this,t),e=this,i=["rubicon"],r=C(r=t),T(e,Ae()?Reflect.construct(r,i||[],C(e).constructor):r.apply(e,i));var e,r,i}return x(t,e),d(t,[{key:"applyBidParams",value:function(e,t){var r=t.isOutstream,i=t.language,n=t.skippable;return t.shouldSendBidFloor,r?e.params.video={playerWidth:400,playerHeight:300,size_id:203}:(e.params.video||(e.params.video={}),e.params.video.language=i,e.params.video.playerWidth=640,e.params.video.playerHeight=480,e.params.video.size_id=201,e.params.video.skip=n?1:0,n&&(e.params.video.skipdelay=5)),e}}])}(U);function ke(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ke=function(){return!!e})()}var Ie=function(e){function t(){return o(this,t),e=this,i=["sharethrough"],r=C(r=t),T(e,ke()?Reflect.construct(r,i||[],C(e).constructor):r.apply(e,i));var e,r,i}return x(t,e),d(t,[{key:"applyBidParams",value:function(e,t){var r=t.shouldSendBidFloor,i=t.floorVal;return r&&(e.params.floor=i),e}}])}(U);function je(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(je=function(){return!!e})()}var Te=function(e){function t(){return o(this,t),e=this,i=["smaato"],r=C(r=t),T(e,je()?Reflect.construct(r,i||[],C(e).constructor):r.apply(e,i));var e,r,i}return x(t,e),d(t)}(U);function Ce(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ce=function(){return!!e})()}var Fe=function(e){function t(){return o(this,t),e=this,i=["smartadserver"],r=C(r=t),T(e,Ce()?Reflect.construct(r,i||[],C(e).constructor):r.apply(e,i));var e,r,i}return x(t,e),d(t,[{key:"applyBidParams",value:function(e,t){var r=t.shouldSendBidFloor,i=t.floorVal,n=t.isOutstream,o=t.timeOffset;return r&&(e.params.bidfloor=i),n||(e.params.video={protocol:8,startDelay:this.getStartDelayIntFromTimeOffset(o)}),e}},{key:"getStartDelayIntFromTimeOffset",value:function(e){switch(e){case"start":return 1;case"end":return 3;default:return 2}}}])}(U);function xe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(xe=function(){return!!e})()}var Ue=function(e){function t(){return o(this,t),e=this,i=["sonobi"],r=C(r=t),T(e,xe()?Reflect.construct(r,i||[],C(e).constructor):r.apply(e,i));var e,r,i}return x(t,e),d(t,[{key:"applyBidParams",value:function(e,t){var r=t.shouldSendBidFloor,i=t.floorVal;return r&&(e.params.floor=i),e}}])}(U);function Re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Le(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ee=function(){return!!e})()}var Me=function(e){function t(){return o(this,t),e=this,i=["sovrn"],r=C(r=t),T(e,Ee()?Reflect.construct(r,i||[],C(e).constructor):r.apply(e,i));var e,r,i}return x(t,e),d(t,[{key:"applyBidParams",value:function(e,t){var r=t.shouldSendBidFloor,i=t.floorVal,n=t.prebidParams;return r&&(e.params.bidfloor=i),e.params.video=Le(Le({},JSON.parse(JSON.stringify(n))),{},{placement:this.convertPlcmtToPlacement(n.placement)}),e}}])}(U);function De(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(De=function(){return!!e})()}var Ve=function(e){function t(){return o(this,t),e=this,i=["triplelift"],r=C(r=t),T(e,De()?Reflect.construct(r,i||[],C(e).constructor):r.apply(e,i));var e,r,i}return x(t,e),d(t,[{key:"applyBidParams",value:function(e,t){t.shouldSendBidFloor,t.floorVal;var r=t.prebidParams;return r&&1!==r.plcmt&&(e.params||(e.params={}),e.params.inventoryCode="ezoic_RON_outstream"),e.params||(e.params={}),e.params.video||(e.params.video={}),e.params.video.placement=this.convertPlcmtToPlacement(r.plcmt),e}}])}(U);function Ne(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ne=function(){return!!e})()}var He=function(e){function t(){return o(this,t),e=this,i=["triplelift"],r=C(r=t),T(e,Ne()?Reflect.construct(r,i||[],C(e).constructor):r.apply(e,i));var e,r,i}return x(t,e),d(t,[{key:"applyBidParams",value:function(e,t){t.shouldSendBidFloor,t.floorVal;var r=t.prebidParams;return r&&1!==r.plcmt&&(e.params.inventoryCode="ezoic_RON_outstream_PbS2S"),e.params||(e.params={}),e.params.video||(e.params.video={}),e.params.video.placement=this.convertPlcmtToPlacement(r.plcmt),e}}])}(U);function Ge(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ge=function(){return!!e})()}var qe=function(e){function t(){return o(this,t),e=this,i=["unruly"],r=C(r=t),T(e,Ge()?Reflect.construct(r,i||[],C(e).constructor):r.apply(e,i));var e,r,i}return x(t,e),d(t,[{key:"applyBidParams",value:function(e,t){var r=t.shouldSendBidFloor,i=t.floorVal,n=t.isOutstream;return r&&(e.params.floor=i),e.params.siteId=parseInt(e.params.siteId,10),e.params.siteid&&(e.params.siteId=parseInt(e.params.siteid,10),delete e.params.siteid),n&&(e.params.featureOverrides={canRunUnmissable:!0},e.renderer={config:{siteId:e.params.siteId},url:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}),e}}])}(U);function We(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Je(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Je=function(){return!!e})()}var Ke=function(e){function t(){return o(this,t),e=this,i=["vidazoo"],r=C(r=t),T(e,Je()?Reflect.construct(r,i||[],C(e).constructor):r.apply(e,i));var e,r,i}return x(t,e),d(t,[{key:"applyBidParams",value:function(e,t){var r=t.shouldSendBidFloor,i=t.floorVal,n=t.prebidParams,o=t.playerWidth,a=t.playerHeight;r&&"number"==typeof i&&(e.params.bidFloor=i);var s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?We(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):We(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({sizes:[[o||400,a||300]]},n);return e.params.ext={customParameters:{mediaTypes:{video:s}}},e}}])}(U);function Ye(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ye=function(){return!!e})()}var Ze=function(e){function t(){return o(this,t),e=this,i=["vidoomy"],r=C(r=t),T(e,Ye()?Reflect.construct(r,i||[],C(e).constructor):r.apply(e,i));var e,r,i}return x(t,e),d(t,[{key:"applyBidParams",value:function(e,t){var r=t.shouldSendBidFloor,i=t.floorVal;return r&&(e.params.bidfloor=i),e}}])}(U);function Qe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Qe=function(){return!!e})()}var $e=function(e){function t(){return o(this,t),e=this,i=["viewdeosDX"],r=C(r=t),T(e,Qe()?Reflect.construct(r,i||[],C(e).constructor):r.apply(e,i));var e,r,i}return x(t,e),d(t,[{key:"applyBidParams",value:function(e,t){var r,i=t.isOutstream,n=t.prebidParams;return i&&(e.params.outstream={type:(null==n?void 0:n.type)||"inbanner",audio_setting:(null==n?void 0:n.audio_setting)||"muted",video_controls:(null==n?void 0:n.video_controls)||"show",close_button_options:(null==n?void 0:n.close_button_options)||"delay",view_out_action:(null==n?void 0:n.view_out_action)||"pause",default_volume:(null==n?void 0:n.default_volume)||50,percent_visible_before_show:(null==n?void 0:n.percent_visible_before_show)||50,is_countdown_show:null!==(r=null==n?void 0:n.is_countdown_show)&&void 0!==r?r:1,countdown_time:(null==n?void 0:n.countdown_time)||5,close_button_delay:(null==n?void 0:n.close_button_delay)||5,detach_width:(null==n?void 0:n.detach_width)||300,detach_height:(null==n?void 0:n.detach_height)||250}),e}}])}(U);function Xe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function et(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(et=function(){return!!e})()}var tt=function(e){function t(){return o(this,t),e=this,i=["yieldmo"],r=C(r=t),T(e,et()?Reflect.construct(r,i||[],C(e).constructor):r.apply(e,i));var e,r,i}return x(t,e),d(t,[{key:"applyBidParams",value:function(e,t){var r=t.shouldSendBidFloor,i=t.floorVal,n=t.prebidParams;return r&&(e.params.bidFloor=i),e.params.video=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},JSON.parse(JSON.stringify(n))),Array.isArray(e.params.video.api)?e.params.video.api=e.params.video.api.filter((function(e){return e>=1&&e<=6})):e.params.video.api=[2],e}}])}(U);function rt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(rt=function(){return!!e})()}var it=function(e){function t(){return o(this,t),e=this,i=["ttd"],r=C(r=t),T(e,rt()?Reflect.construct(r,i||[],C(e).constructor):r.apply(e,i));var e,r,i}return x(t,e),d(t)}(U);function nt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(nt=function(){return!!e})()}var ot=function(e){function t(){return o(this,t),e=this,i=["noop"],r=C(r=t),T(e,nt()?Reflect.construct(r,i||[],C(e).constructor):r.apply(e,i));var e,r,i}return x(t,e),d(t,[{key:"applyBidParams",value:function(e,t){return e}},{key:"applyAdUnitParams",value:function(e,t){return e}}])}(U),at=function(){function e(){o(this,e)}return d(e,null,[{key:"getStrategy",value:function(t){var r,i=null!==(r=function(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}(e,this,st)._.get(t))&&void 0!==r?r:ot;return new i}}])}(),st={_:new Map([["33across",L],["33across_i_s2s",L],["33across_o_s2s",L],["adtelligent",M],["amx",V],["appnexus",H],["compass",q],["criteo",Y],["eplanning",Q],["insticator",X],["insticator_i_s2s",te],["insticator_o_s2s",te],["ix",ne],["ix_i_s2s",ne],["ix_o_s2s",ne],["medianet",se],["medianet_i_s2s",se],["medianet_o_s2s",se],["minutemedia",ue],["nobid",ce],["onetag",fe],["onetag_i_s2s",fe],["onetag_o_s2s",fe],["openx",ve],["openx_i_s2s",ve],["openx_o_s2s",ve],["pubmatic",_e],["pubmatic_i_s2s",_e],["pubmatic_o_s2s",_e],["pulsepoint",we],["rise",Pe],["rubicon",Oe],["rubicon_i_s2s",ze],["rubicon_o_s2s",ze],["sharethrough",Ie],["sharethrough_i_s2s",Ie],["sharethrough_o_s2s",Ie],["smaato",Te],["smartadserver",Fe],["sonobi",Ue],["sovrn",Me],["triplelift",Ve],["triplelift_i_s2s",He],["triplelift_o_s2s",He],["unruly",qe],["unruly_i_s2s",qe],["unruly_o_s2s",qe],["vidazoo",Ke],["vidoomy",Ze],["vidoomy_i_s2s",Ze],["vidoomy_o_s2s",Ze],["viewdeosDX",$e],["yieldmo",tt],["ttd",it]])};function dt(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var ut=new WeakSet;function lt(e){if(null!==e&&"undefined"!==e&&void 0!==e){if(void 0!==e.cpm&&e.cpm>this.maxHBBid)return e.cpm;if(void 0!==e.originalCpm&&e.originalCpm>this.maxHBBid)return e.originalCpm}return this.maxHBBid>0?this.maxHBBid:0}function ct(e){var t=window.epbjs;if(!t||!t.markWinningBidAsUsed||!t.adServers)return this.vastURL;if(e.adserverTargeting){if(e.adserverTargeting.hasOwnProperty("epp")&&(e.adserverTargeting.epp=function(e){var t,r=e;return r>300&&(r=300),arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?((r=r<=0?0:r<=1?10*Math.floor(10*r+.5):r<=3?20*Math.floor(100*r/20+.5):r<=10?50*Math.floor(100*r/50+.5):r<=30?100*Math.floor(100*r/100+.5):r<=50?200*Math.floor(100*r/200+.5):r<=120?500*Math.floor(100*r/500+.5):1e3*Math.floor(100*r/1e3+.5))/100>e&&r>2&&(r-=r<=100?10:r<=300?20:r<=1e3?50:r<=3e3?100:r<=5e3?200:r<=12e3?500:1e3),(r/100).toFixed(2)):(r>=0&&r<=5?t=Math.floor(100*r)/100:r>5&&r<=50?t=Math.floor(10*r)/10:r>50&&r<=110?t=5*Math.floor(r/5):r>110&&r<=300&&(t=10*Math.floor(r/10)),t.toFixed(2))}(e.adserverTargeting.epp,this.isOutstream?__ezOutstream.IsEzDfpAccount:__ezInstream.IsEzDfpAccount),e.adserverTargeting.epp<=0))return this.vastURL;e.adserverTargeting=Object.entries(e.adserverTargeting).reduce((function(e,t){var r=b(t,2),i=r[0],n=r[1];return e[P[i]||i]=n,e}),{})}return t.adServers.dfp.buildVideoUrl({adUnit:this.prebidAdUnits,url:this.origVastURL,bid:e})}function pt(e,t){return!t&&this.shouldAlwaysSendOutstreamContext[e]}function ft(e,t,r,i,n){var o=this,a=dt(ut,this,mt).call(this,{code:this.key,bidPoolId:this.getPoolId(t)},t,r,e),s=a.filter((function(e){return!o.shouldSendPlacement[e.bidder]&&!dt(ut,o,pt).call(o,e.bidder,o.isOutstream)})),d=a.filter((function(e){return o.shouldSendPlacement[e.bidder]&&!dt(ut,o,pt).call(o,e.bidder,o.isOutstream)})),u=a.filter((function(e){return dt(ut,o,pt).call(o,e.bidder,o.isOutstream)}));if(i){var l=function(t){return e?t.filter((function(e){return i[e.bidder]})):t.filter((function(e){return!i[e.bidder]}))};s=l(s),d=l(d),u=l(u)}var c=new Set(["ttd","ttd_i_s2s","ttd_o_s2s"]),p=s.filter((function(e){return c.has(e.bidder)})),f=s.filter((function(e){return!c.has(e.bidder)}));if(f.length>0){var h=this.getPrebidAdUnit(e,t,r);h.bids=f,n.push(h)}if(p.length>0){var v=this.getPrebidAdUnitForTTD(e,t,r);v.bids=p,n.push(v)}if(d.length>0){var m=this.getPrebidAdUnitWithPlacement(e,t,r);f.length>0&&!f.some((function(e){return"ttd"===e.bidder}))&&(m.mediaTypes.video.placement=dt(ut,this,bt).call(this,this.prebidParams.plcmt)),m.bids=d,n.push(m)}if(u.length>0){var b=this.getPrebidAdUnitAlwaysOutstreamCtx(e,t,r);b.bids=u,n.push(b)}}function ht(e,t){return dt(ut,this,vt).call(this,this.videoAdBidFloor,t,e)}function vt(e,t,r){if(1===t)return e;var i=(t-1)/2;return e+e/i*(r-i)}function mt(e,t,r,i){var n=this.isOutstream?__ezOutstream.prebidBidders:__ezInstream.prebidBidders,o=this.getPlayerId(),a={minDur:this.params.min/1e3,maxDur:this.params.max/1e3,skippable:this.params.skip,shouldSendBidFloor:i,floorVal:dt(ut,this,ht).call(this,t,r),prebidParams:this.prebidParams,isOutstream:this.isOutstream,language:this.getVideoLanguage(o),timeOffset:this.timeOffset||0,adUnit:e,playerId:o,player:this.getPlayerById(o)};return n.map((function(e){var t=JSON.parse(JSON.stringify(e)),r=at.getStrategy(t.bidder);return r&&(t=r.applyBidParams(t,a),t=r.applyAbTestParams(t,a)),t}))}function bt(e){return 1==e||2==e?1:5}function yt(e){var t=this,r=e.filter((function(e){return!t.bidders.includes(e)}));this.bidders=this.bidders.concat(r)}function _t(e){return!this.receivedBidders.includes(e)&&(this.receivedBidders.push(e),!0)}function gt(e){if(epbjs&&epbjs.SS&&epbjs.SS.hasOwnProperty(e))return epbjs.SS[e];var t={};return"undefined"!=typeof __ezInstream&&__ezInstream.prebidBidders.map((function(e){void 0!==e.ssid&&(t[e.bidder]=parseInt(e.ssid))})),"undefined"!=typeof __ezOutstream&&__ezOutstream.prebidBidders.map((function(e){void 0!==e.ssid&&(t[e.bidder]=parseInt(e.ssid))})),t[e]}const wt=function(){return d((function e(t){var r,i,n=this;o(this,e),function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(r=this,i=ut),i.add(r),Object.keys(t).forEach((function(e){n[e]=t[e]})),this.origVastURL||(this.origVastURL=this.vastURL),this.retryCount||(this.retryCount=0,null==t.startingBidFloorIndex&&(this.bidFloorIndex=0),this.lastBidHash=this.videoAdBidHash,this.maxHBBid=0,this.maxHBBidder=void 0,this.initialBidFloor=this.videoAdBidFloor),this.hasOwnProperty("apsBidCount")||(this.apsBidCount=0),this.isComplete=!1,this.isTriggered=!1,this.bidders=[],this.receivedBidders=[],this.statSourceId=void 0,this.prebidCPM=void 0,this.played=!1,this.hadAPSBid=!1,this.addedAPSToVAST=!1,this.addedPrebidToVAST=!1,this.pmpDealsToConsider=[],this.isMultiAuction=0,this.didS2SBidderWin=!1,this.hasOwnProperty("gpid")||(this.gpid=this.breakID),this.shouldSendPlacement={medianet:!0,criteo:!0,pubmatic:!0,sovrn:!0,yieldmo:!0,vidazoo:!0},this.shouldSendMultipleFloorsInstream={rubicon:!0,openx:!0,yieldmo:!0,sharethrough:!0,onetag:!0,medianet:!0,appnexus:!0,rubicon_i_s2s:this.isS2SMFTest(),openx_i_s2s:this.isS2SMFTest(),sharethrough_i_s2s:this.isS2SMFTest(),pubmatic_i_s2s:this.isS2SMFTest(),unruly_i_s2s:this.isS2SMFTest(),medianet_i_s2s:this.isS2SMFTest(),onetag_i_s2s:this.isS2SMFTest()},this.shouldSendMultipleFloorsOutstream={rubicon:!0,openx:!0,sharethrough:!0,onetag:!0,pubmatic:!0,rubicon_o_s2s:this.isS2SMFTest(),openx_o_s2s:this.isS2SMFTest(),sharethrough_o_s2s:this.isS2SMFTest(),pubmatic_o_s2s:this.isS2SMFTest(),unruly_o_s2s:this.isS2SMFTest(),medianet_o_s2s:this.isS2SMFTest(),onetag_o_s2s:this.isS2SMFTest()},this.shouldAlwaysSendOutstreamContext={triplelift:!0,triplelift_i_s2s:!0}}),[{key:"getAPSStatSourceId",value:function(){return"undefined"!=typeof __ezInstream&&!this.isOutstream&&__ezInstream.apsSlot.slotID?11324:"undefined"!=typeof __ezOutstream&&this.isOutstream&&__ezOutstream.apsSlot.slotID?11337:""}},{key:"assembleTagURL",value:function(e){if(e||this.onlyUseVastProxy())return this.chooseHighestBidForPrebidRenderer();var t=this.addBidsToVAST(),r=t.prebidBid,i=t.apsBid,n=b(this.getHighestBidWithSource(),2),o=n[0],a=n[1];return this.isInstreamTruePrice()&&(r||i)&&o<=.18&&o>0&&(this.fallbackVastURL=a===O?this.getVastProxyAPSUrl(i):this.getVastProxyPrebidUrl(r),this.fallbackVastCPM=o,this.fallbackVastBid=a===O?i:r,k("No bids above 0.18, using fallback",o,a,this.fallbackVastBid)),this.updatePmpTargetingDeals(),this.isComplete=!0,this.markBreakAsComplete(this.key,this.isFloating),this.recordBiddersForBreak(),k(this.key+"\nVAST URL: ",this.vastURL+"\nPrebid:",r,"\nAPS:",i),!!r||!!i}},{key:"chooseHighestBidForPrebidRenderer",value:function(){k("Choosing highest bid for prebid renderer");var e,t,r=this.getWinningPrebidBid(),i=this.apsBid||null;if(this.maxHBBidder=r,this.maxHBBid=dt(ut,this,lt).call(this,r),k("Prebid bid: ",r," APS bid: ",i," Max HB bid: ",this.maxHBBid),i&&(!r||i.bidVal>this.maxHBBid))this.vastURL=this.getVastProxyAPSUrl(i),null===(e=window.__ezDevtools)||void 0===e||null===(t=e.recordWinningBid)||void 0===t||t.call(e,this.impressionId,"amzn",i.bidVal);else if(r){var n,o;this.vastURL=this.getVastProxyPrebidUrl(r),null===(n=window.__ezDevtools)||void 0===n||null===(o=n.recordWinningBid)||void 0===o||o.call(n,this.impressionId,r.bidder,r.cpm)}return this.isComplete=!0,this.markBreakAsComplete(this.key,this.isFloating),this.recordBiddersForBreak(),this.noFill=!r&&!i,!this.noFill&&"undefined"!=typeof _ezaq&&_ezaq.hasOwnProperty("ab_test_id")&&"mod118"==_ezaq.ab_test_id&&(this.vastURL+="&mod=mod118"),!!r||!!i}},{key:"getVastProxyAPSUrl",value:function(e){var t=encodeURIComponent("https://aax.amazon-adsystem.com/e/dtb/vast?b="+e.amzniid+"&rnd="+Math.random().toString(36).substring(2,15)+"&pp="+e.amznbid);return"".concat(A,"/vast?adId=aps&vastUrl=").concat(t)}},{key:"getVastProxyPrebidUrl",value:function(e){var t=encodeURIComponent("https://prebid.adnxs.com/pbc/v1/cache?uuid=".concat(e.videoCacheKey));return"".concat(A,"/vast?adId=").concat(e.videoCacheKey,"&vastUrl=").concat(t)}},{key:"getHighestBidWithSource",value:function(){var e=-1,t="",r=this.getWinningPrebidBid(),i=this.apsBid||null;return r&&(e=r.cpm,t=S),i&&i.bidVal>e&&(e=i.bidVal,t=O),[e,t]}},{key:"shouldAddBidToVAST",value:function(e,t,r){return e?!(t||r===S&&e<=.18&&this.isInstreamTruePrice()&&(k("Prebid bid is less than 0.18, not adding to VAST",e),1)):(k("shouldAddBidToVAST: falsy bid floor received"),!0)}},{key:"addBidsToVAST",value:function(){var e=this.getWinningPrebidBid(),t=this.apsBid||null;if(this.addedAPSToVAST&&this.addedPrebidToVAST)return{prebidBid:e,apsBid:t};this.maxHBBidder=e,this.maxHBBid=dt(ut,this,lt).call(this,e),e&&this.shouldAddBidToVAST(e.cpm,this.addedPrebidToVAST,S)&&(this.vastURL=dt(ut,this,ct).call(this,e),this.addedPrebidToVAST=!0);var r=!1;return(window.__ezInstream&&window.__ezInstream.PreferPrebidOverAmzn>0||window.__ezOutstream&&window.__ezOutstream.PreferPrebidOverAmzn>0)&&(r=!0),""==this.getAPSStatSourceId()||e&&r||(t?void 0!==t.encodedQsParams&&this.shouldAddBidToVAST(t.bidVal,this.addedAPSToVAST,O)&&(this.vastURL+=t.encodedQsParams,this.addedAPSToVAST=!0,"undefined"!=typeof __ezOutstream&&(this.hadAPSBid=!0)):"undefined"!=typeof __ezOutstream&&(this.hadAPSBid=!1)),{prebidBid:e,apsBid:t}}},{key:"recordBiddersForBreak",value:function(){var e=[];if("undefined"!=typeof __ezInstream&&!this.isOutstream&&__ezInstream.prebidBidders&&0!=__ezInstream.prebidBidders.length){var t=__ezInstream.prebidBidders.map((function(e){return"string"==typeof e.ssid?parseInt(e.ssid):e.ssid}));e=e.concat(t)}if("undefined"!=typeof __ezOutstream&&this.isOutstream&&__ezOutstream.prebidBidders&&0!=__ezOutstream.prebidBidders.length){var r=__ezOutstream.prebidBidders.map((function(e){return"string"==typeof e.ssid?parseInt(e.ssid):e.ssid}));e=e.concat(r)}var i=this.getAPSStatSourceId();""!=i&&(e.push(i),this.apsBid&&dt(ut,this,_t).call(this,i)),dt(ut,this,yt).call(this,e)}},{key:"getWinningPrebidBid",value:function(){if(this.maxHBBidder)return k("Using previous set top bid:",this.maxHBBidder),this.maxHBBidder;var e=null;return Array.isArray(this.prebidAdUnits)&&this.prebidAdUnits.length>0&&this.prebidAdUnits.forEach((function(t){var r=__ez.fads.adLoadHB.bidCache.getTopBid(t);k("our cached bid is: ",r),r&&(!e||r.cpm>e.cpm)&&(e=r)})),e?k("Top bid:",e):k("No valid bids found."),e}},{key:"isBidCacheLoaded",value:function(){return 1==__ez.fads.loaded&&void 0!==__ez.fads.adLoadHB&&1==__ez.fads.adLoadHB.loaded}},{key:"updatePrebidBidCacheWithBids",value:function(e){var t=this;this.isBidCacheLoaded()&&(k("Caching prebid bids: ",e," for ad unit: ",this.prebidAdUnits),e.forEach((function(e){if(e.adserverTargeting&&e.adserverTargeting.hasOwnProperty("hb_uuid")&&void 0!==e.adserverTargeting.hb_uuid&&e.adserverTargeting.hasOwnProperty("hb_cache_id")&&void 0!==e.adserverTargeting.hb_cache_id){if(t.isBidCacheLoaded()){var r=t.prebidAdUnits[0];r?__ez.fads.adLoadHB.bidCache.cacheBid(r,e):k("No matching ad unit found for bid with bidPoolId:",e.bidPoolId)}var i=dt(ut,t,gt).call(t,e.bidder);i&&dt(ut,t,_t).call(t,i)}})))}},{key:"handleWinningAdIdOrHbUUId",value:function(e){if(k("winning ad id",e),this.isBidCacheLoaded()){var t,r,i=__ez.fads.adLoadHB.bidCache.getBidByAdId(e);if(null==i&&(i=__ez.fads.adLoadHB.bidCache.getBidByHbUUId(e)),i)return k("found ad id or hbUUId: ",e," in prebid cache: ",i),__ez.fads.adLoadHB.bidCache.removeBid(i),this.statSourceId=dt(ut,this,gt).call(this,i.bidder),this.prebidCPM=i.cpm,__ez.vhb.setPrebidCPMEarnedFromPreviousAd(this.prebidCPM,this.isOutstream),__ez.vhb.recordWinForBidder(i.bidder,i.cpm),null===(t=window.__ezDevtools)||void 0===t||null===(r=t.recordWinningBid)||void 0===r||r.call(t,this.impressionId,i.bidder,i.cpm),window.PrebidImpressionController&&window.PrebidImpressionController.recordAndFireImpressionWonEvent(i),void 0!==i&&"string"==typeof i.bidder&&i.bidder.endsWith("_s2s")&&(this.didS2SBidderWin=!0),void epbjs.markWinningBidAsUsed({adUnitCode:this.BreakID,adId:i.adId});Array.isArray(this.prebidAdUnits)&&this.prebidAdUnits.length>0?this.prebidAdUnits.forEach((function(e){e&&e.code?(__ez.fads.adLoadHB.bidCache.releaseBid(e.code),k("Released bid for ad unit with key:",e.code)):k("Invalid ad unit or missing key:",e)})):k("No Prebid ad units provided.")}if(this.apsBid&&(this.apsBid.adId===e||"aps"==e))return k("found ad id or hbUUId: ",e," in aps bid: ",this.apsBid),void(this.statSourceId=this.getAPSStatSourceId());k("neither aps nor prebid won the ad id or hbUUId: ",e)}},{key:"removeCachedBidsFromAdBreak",value:function(){k("removing all bid from bid cache"),this.isBidCacheLoaded()&&(k("removing bid from bid cache"),Array.isArray(this.prebidAdUnits)&&this.prebidAdUnits.length>0?this.prebidAdUnits.forEach((function(e){e&&e.code?(__ez.fads.adLoadHB.bidCache.removeBidByCode(e.code),k("Removed bid for ad unit with code:",e.code)):k("Invalid ad unit or missing code:",e)})):k("No Prebid ad units provided.")),this.apsBid&&(k("removing aps bid from ad break: ",this.apsBid),this.apsBidCount=0,this.apsBid=null)}},{key:"getMultipleAdUnits",value:function(e,t){var r=[],i=this.isOutstream?this.shouldSendMultipleFloorsOutstream:this.shouldSendMultipleFloorsInstream;dt(ut,this,ft).call(this,!1,0,1,i,r);for(var n=0;n<e;n++)dt(ut,this,ft).call(this,t,n,e,i,r);return this.prebidAdUnits=r,k("Our ad units are:",r),r}},{key:"getPoolId",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=this.isOutstream?"prebid-video-outstream":"prebid-video-instream"+this.getAdBreakPosition(this.breakID),n=t?"-placement":"";return"".concat(i).concat(n).concat(r,"_").concat(e)}},{key:"getPrebidAdUnit",value:function(e,t,r){var i={code:this.key,ortb2Imp:{ext:{gpid:this.gpid}},mediaTypes:{video:JSON.parse(JSON.stringify(this.prebidParams))}};return i.bidPoolId=this.getPoolId(t),this.videoAdBidFloor>0&&e&&(i.floors={currency:"USD",schema:{delimiter:"|",fields:["mediaType","size"]},values:{"video|*":dt(ut,this,ht).call(this,t,r)}}),this.updateAdUnitForAbTests(i),i}},{key:"getPrebidAdUnitWithPlacement",value:function(e,t,r){var i={code:this.key,ortb2Imp:{ext:{gpid:this.gpid}},mediaTypes:{video:JSON.parse(JSON.stringify(this.prebidParams))}};return i.bidPoolId=this.getPoolId(t,!0),this.videoAdBidFloor>0&&e&&(i.floors={currency:"USD",schema:{delimiter:"|",fields:["mediaType","size"]},values:{"video|*":dt(ut,this,ht).call(this,t,r)}}),this.updateAdUnitForAbTests(i),i}},{key:"getPrebidAdUnitAlwaysOutstreamCtx",value:function(e,t,r){var i={code:this.key,ortb2Imp:{ext:{gpid:this.gpid}},mediaTypes:{video:JSON.parse(JSON.stringify(this.prebidParams))}};return 1!==this.prebidParams.plcmt&&(i.mediaTypes.video.context="outstream"),i.bidPoolId=this.getPoolId(t,!1,"-octx"),this.videoAdBidFloor>0&&e&&(i.floors={currency:"USD",schema:{delimiter:"|",fields:["mediaType","size"]},values:{"video|*":dt(ut,this,ht).call(this,t,r)}}),this.updateAdUnitForAbTests(i),i}},{key:"getPrebidAdUnitForTTD",value:function(e,t,r){var i={code:this.key,ortb2Imp:{ext:{gpid:this.gpid}},mediaTypes:{video:JSON.parse(JSON.stringify(this.prebidParams))}};return void 0!==i.mediaTypes.video.placement&&delete i.mediaTypes.video.placement,i.bidPoolId=this.getPoolId(t,!1,"_ttd"),this.videoAdBidFloor>0&&e&&(i.floors={currency:"USD",schema:{delimiter:"|",fields:["mediaType","size"]},values:{"video|*":dt(ut,this,ht).call(this,t,r)}}),i}},{key:"getAdBreakPosition",value:function(e){var t=e.split("-");if(t.length<3)return console.error("Failed to parse ad break position - malformed breakId: "+e),"";var r=t[t.length-2];return"preroll"!==r&&"midroll"!==r&&"postroll"!==r?(console.error("Failed to parse ad break position - unknown position on breakId: "+e),""):"-"+r}},{key:"getPlayerById",value:function(e){var t;return null===(t=window.ezVideoAdConductor)||void 0===t||null===(t=t.getVideoAdConductor())||void 0===t?void 0:t.getPlayerById(e)}},{key:"getPlayerId",value:function(){return this.key.split("$")[0]}},{key:"getIsPlayerCurrentlyFloating",value:function(){var e;return null===(e=this.getPlayerById(this.getPlayerId()))||void 0===e?void 0:e.isCurrentlyFloating()}},{key:"setFallbackPosition",value:function(e){k("bid: getting highest floor below",e);for(var t=0,r=-1,i=0;i<this.videoFallbackFloors.length;i++)this.videoFallbackFloors[i]<=e&&this.videoFallbackFloors[i]>t&&(t=this.videoFallbackFloors[i],r=i);if(r>-1){if(this.bidFloorIndex>=r)return;this.videoAdBidFloor=t,this.videoAdBidHash=this.videoFallbackHashes[r],this.bidFloorIndex=r,this.startingBidFloorIndex=this.bidFloorIndex}else this.videoAdBidFloor=0,this.videoAdBidHash="zero",this.bidFloorIndex=this.videoFallbackFloors.length,this.startingBidFloorIndex=this.bidFloorIndex;k("bid: setting fallback position to",this.videoAdBidFloor,this.videoAdBidHash)}},{key:"setStartingBidFloor",value:function(e){var t=e;k("bid: previous floor",t),t>0&&(t*=3),k("bid: getting highest floor below",t);var r=0,i=-1;if(t>0){for(var n=0;n<this.videoFallbackFloors.length;n++)if(this.videoFallbackFloors[n]<=t&&this.videoFallbackFloors[n]>r){i=n,(r=this.videoFallbackFloors[n])===e&&n>0?(i=n-1,k("bid: set floor up one step from last fill",r=this.videoFallbackFloors[n-1])):k("bid: set floor below 3x last fill",r);break}}else if(0===t){k("bid: finding floor ".concat(3," above ").concat(t));var o=this.videoFallbackFloors.indexOf(0);-1===o&&(o=this.videoFallbackFloors.length-1);var a=o-3;a<0&&(a=0),i=a,r=this.videoFallbackFloors[a]}i>-1?(this.videoAdBidFloor=r,this.videoAdBidHash=this.videoFallbackHashes[i],this.bidFloorIndex=i,this.startingBidFloorIndex=this.bidFloorIndex):(this.videoAdBidFloor=0,this.videoAdBidHash="zero",this.bidFloorIndex=this.videoFallbackFloors.length,this.startingBidFloorIndex=this.bidFloorIndex),k("bid: updated ".concat(this.isOutstream?"outstream":"in-content"," fallback floor to ").concat(this.videoAdBidFloor," ").concat(this.videoAdBidHash))}},{key:"updatePmpTargetingDeals",value:function(){var e=this;if(void 0!==this.videoPmpDeal&&Array.isArray(this.videoPmpDeal)&&0!==this.videoPmpDeal.length){var t=[];this.videoAdBidFloor>.2&&this.videoPmpDeal.forEach((function(r){"undefined"!==r.adjustedDealFloor&&(r.adjustedDealFloor>=99999||e.videoAdBidFloor>r.adjustedLowerDealFloor&&e.videoAdBidFloor<r.adjustedUpperDealFloor)&&t.push(r.dealId)})),this.pmpDealsToConsider=t,this.vastURL=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null===t)return k("No key specified for VAST Tag custom targeting, returning VAST URL: "+e),e;if(!URL.canParse(e))return k("Invalid/Cannot parse VAST Tag URL: "+e),e;var i=new URL(e),n=i.searchParams;if(!n.has("cust_params"))return e;var o=new URLSearchParams(n.get("cust_params"));return null===r||r.length<1?o.has(t)?(k("Empty or null value specified for targeting key: ".concat(t,", val: ").concat(r,". Removing ").concat(t," from cust_params")),o.delete(t),n.set("cust_params",o.toString()),k("VAST Custom Targeting Params: ",Array.from(o.entries())),i.toString()):(k("No targeting key to remove because it is not in cust_params or the key is null here"),i.toString()):(Array.isArray(r)&&(r=r.join(",")),k("Setting VAST Custom Targeting Params with key: ".concat(t,", val: ").concat(r)),o.set(t,r),n.set("cust_params",o.toString()),k("VAST Custom Targeting Params: ",Array.from(o.entries())),i.toString())}(this.vastURL,"deal1",t)}}},{key:"markBreakAsComplete",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];__ez&&__ez.vhb&&__ez.vhb.breaks&&t&&"object"==e(__ez.vhb.breaks[t])&&!r?__ez.vhb.breaks[t].isComplete=!0:__ez&&__ez.vhb&&__ez.vhb.floatingBreaks&&t&&"object"==e(__ez.vhb.floatingBreaks[t])&&(__ez.vhb.floatingBreaks[t].isComplete=!0)}},{key:"isS2STest",value:function(){var e;return"true"===(null===(e=__ez)||void 0===e||null===(e=e.tf)||void 0===e?void 0:e.pbs)}},{key:"onlyUseVastProxy",value:function(){return!!(this.isOutstream&&("undefined"!=typeof __ezOutstream&&__ezOutstream.hasOwnProperty("OnlyUseVastProxy")&&__ezOutstream.OnlyUseVastProxy||"undefined"!=typeof __ez&&__ez.tf&&"true"===__ez.tf.vaosg))}},{key:"getVideoLanguage",value:function(t){if(void 0!==window.ezVideo&&"object"===e(window.ezVideo.playerLanguage)&&"string"==typeof t){var r=window.ezVideo.playerLanguage[t];if(r&&"string"==typeof r&&2===r.length)return r}return null}},{key:"isAdBreakFrontloaded",value:function(){return"FrontLoad"===this.positionGen||"FrontLoadOverridden"===this.positionGen}},{key:"isAdBreakCustomPosition",value:function(){return"pub-midroll"===this.positionGen||"pub-midrollOverridden"===this.positionGen}},{key:"updateAdUnitForAbTests",value:function(e){var t,r;if("true"===(null===(t=__ez)||void 0===t||null===(t=t.tf)||void 0===t?void 0:t.vappp)&&!this.isOutstream){var i=this.getPlayerById(this.getPlayerId());null!=i&&i.isCurrentlyFloating()&&3===e.mediaTypes.video.pos&&(e.mediaTypes.video.pos=2)}return"1"===(null===(r=__ez)||void 0===r||null===(r=r.tf)||void 0===r?void 0:r.vappp)&&(e.mediaTypes.video.pos=1),e}},{key:"isInstreamTruePrice",value:function(){var e;return"true"===(null===(e=__ez)||void 0===e||null===(e=e.tf)||void 0===e?void 0:e.vaitp)}},{key:"isS2SMFTest",value:function(){var e;return"true"===(null===(e=__ez)||void 0===e||null===(e=e.tf)||void 0===e?void 0:e.vas2smf)}}])}();function Bt(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var Pt=new WeakSet;function St(e){var t=this;k("startPrebidBidding");var r=e.isOutstream?__ezOutstream.prebidBidders:__ezInstream.prebidBidders;if(null==r||!r.length)return k("No Prebid bidders"),Promise.reject();if(!epbjs||!epbjs.requestBids||!epbjs.que)return k("something wrong with epbjs"),Promise.reject();var i=!0;window.__ezInstream&&window.__ezInstream.DoNotPassBidFloorToPreBid>0&&(i=!1);var n=1;"US"===(_ezaq.country||"US")&&(n=5);var o=e.getMultipleAdUnits(n,i);return new Promise((function(r,i){var n;n=setTimeout((function(){k("Prebid timed out"),i("Prebid timed out")}),12e4);var a=t;epbjs.que.push((function(){k("Prebid.js requesting bids",o,"timeout",a.prebidBidderTimeoutMS);var t={timeout:a.prebidBidderTimeoutMS,adUnits:o,bidsBackHandler:function(t,i,o){clearTimeout(n),k("Current ad break: ",e),k("Prebid received bids: ",t,"\nTimed Out: ",i,"\nAuction ID: ",o);var s=t[e.key];s?(e.updatePrebidBidCacheWithBids(s.bids),a.recordBidders(s.bids)):i&&a.adsShown>0&&(a.prebidBidderTimeoutMS+=1200,k("Prebid timed out, incrementing timeout: ",a.prebidBidderTimeoutMS)),r()},labels:["iid1:".concat(e.impressionId)]};try{var i,s=null===(i=window.ezVideoAdConductor)||void 0===i||null===(i=i.getVideoAdConductor())||void 0===i?void 0:i.getPlayerById(e.getPlayerId());if(s){var d,u,l=s.adRenderer.videoPlayer_.player.player;if(l.videos){var c=l.playlist.currentIndex();d=l.videos[c]}else d=s.adRenderer.videoPlayer_.videoObject.Video;d&&(t.ortb2={site:{content:{id:d.VideoContentId,title:d.Title,cattax:6,cat:(null===(u=d.IABCategoryIds)||void 0===u?void 0:u.split(","))||[],keywords:d.Keywords,len:Math.round(d.VideoDurationMs/1e3),language:d.Language}}})}}catch(e){k("Error setting ORTB2",e)}epbjs.requestBids(t)}))}))}function Ot(e){var t=this,r=e.videoAdBidFloor;if(void 0!==e.videoAdBidFloorAmazon&&e.videoAdBidFloorAmazon>0&&(r=e.videoAdBidFloorAmazon),k("unmodified bid floor"+e.videoAdBidFloorUnmodified+"vid floor"+r+" bidcount "+e.apsBidCount),e.apsBidCount>0)return k("Already requested APS bid for this adBreak, returning"),Promise.reject();var i=30;e&&e.prebidParams&&e.prebidParams.hasOwnProperty("maxduration")&&(i=e.prebidParams.maxduration);var n=e.isOutstream?__ezOutstream:__ezInstream;if(!n.apsSlot.slotID)return k("No APS slots"),Promise.reject();this.preloadAmazonH2BidLibrary(),k("Setting up APS");var o=this.prebidBidderTimeoutMS;return new Promise(function(){var a=_(B().mark((function a(s,d){var u,l,c,p,f,h,v,m,b,y;return B().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return y=function(t){if(k("APS received bids for key =",e.key,t),t.length>0)if(c)for(var i,n=function(r){__ez.fads.getAmazonBidFromHash(t[r].amznbid).then((function(n){t[r].bidVal=n,t[r].bps=n/m(t[r].slotID),(!i||t[r].bps>i.bps)&&(i=t[r],e.apsBid=i,e.apsBidCount=1),r===t.length-1&&s()}))},o=0;o<t.length;o++)n(o);else e.apsBid=t[0],e.apsBidCount=1,s();else r>=200?(r/=2,u.floor={currency:"USD",value:Math.round(100*r)},b()):r>0?(r=0,delete u.floor,b()):s()},b=function(){apstag.fetchBids({slots:l,timeout:o,params:{iid1:e.impressionId}},y)},m=function(e){if("string"!=typeof e)return 30;var t=e.match(/(\d+)-(\d+)seconds/);return t?parseInt(t[2],10):30},a.next=5,z("apstag",12e4,100).catch((function(){d("APS timed out")}));case 5:if((u=n.apsSlot).slotID){a.next=10;break}return k("No APS slot ID"),d("No APS slot ID"),a.abrupt("return");case 10:if(l=[u],c=!0,void 0!==n.allApsSlots&&n.allApsSlots.length>0&&c){for(l=[],p=n.allApsSlots,f=0;f<p.length;f++)p[f].Duration<=i&&l.push(p[f].Slot);0==l.length&&(l=[u])}if(k("APS slots sent for bidding:",l),r>0)for(u.floor={currency:"USD",value:Math.round(100*r)},h=0;h<l.length;h++)l[h].floor={currency:"USD",value:Math.round(100*r)};else for(delete u.floor,v=0;v<l.length;v++)delete l[v].floor;t.addSlotParamsToAPSSlots(l,e),k("APS requesting instream bids for key =",e.key),b();case 18:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}())}function At(e){var t,r;return window.ezslot_outstream&&e.includes("outstream")&&(null===(t=window.__ezOutstream)||void 0===t?void 0:t.UseGPTOutstream)&&(null===(r=window.__ezOutstream)||void 0===r?void 0:r.fallbackToGPT)}const zt=function(){return d((function e(){var t,r,i,n;o(this,e),function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(i=this,n=Pt),n.add(i),g(this,"breaks",{}),g(this,"floatingBreaks",{}),g(this,"target",new EventTarget),g(this,"biddingInProcess",{}),g(this,"prebidBidderTimeoutMS",1800),g(this,"instreamPrebidCPMFromPreviousAd",0),g(this,"outstreamPrebidCPMFromPreviousAd",0),g(this,"bidders",{}),g(this,"auctionsRun",0),g(this,"adsShown",0),g(this,"auctionPromiseByImpressionId",{}),I()&&epbjs.que.push((function(){epbjs.setConfig({debug:!1})})),window.__ez.vhb&&(this.breaks=__ez.vhb.breaks,this.target=__ez.vhb.target,__ez.vhb.floatingBreaks&&(this.floatingBreaks=__ez.vhb.floatingBreaks)),(null!==(t=window.__ezInstream)&&void 0!==t&&null!==(t=t.apsSlot)&&void 0!==t&&t.slotID||null!==(r=window.__ezOutstream)&&void 0!==r&&null!==(r=r.apsSlot)&&void 0!==r&&r.slotID)&&this.preloadAmazonH2BidLibrary(),this.bidSingle(),__ez.vhb=this}),[{key:"doAuction",value:function(e){var t,r,i=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(t=this.auctionPromiseByImpressionId)[r=e.impressionId]||(t[r]=_(B().mark((function t(){var r;return B().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i.biddingInProcess[e.getPlayerId()]=!0,__ez.vhb.auctionsRun++,r=[Bt(Pt,i,St).call(i,e)],e.hadAPSBid||n&&e.isOutstream&&i.isSingleAPSAuctionTestActive()?n&&e.isOutstream&&i.isSingleAPSAuctionTestActive()&&k("APS auction skipped for outstream break due to single APS auction test"):r.push(Bt(Pt,i,Ot).call(i,e)),t.abrupt("return",Promise.allSettled(r));case 5:case"end":return t.stop()}}),t)})))())}},{key:"bid",value:(n=_(B().mark((function e(t,r){var i,n=this;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.biddingInProcess[t.getPlayerId()]=!0,!this.shouldConsiderCustomBreaksOutstreamCollision(t)){e.next=6;break}return k("Handling custom breaks outstream collision"),e.next=5,this.handleCustomBreaksOutstreamCollision(t,r);case 5:return e.abrupt("return");case 6:if("1"!==new URLSearchParams(window.location.search).get("ez_fake_instream")){e.next=12;break}return t.isComplete=!0,t.key&&t.markBreakAsComplete(t.key,t.isFloating),t.vastURL="https://pubads.g.doubleclick.net/gampad/ads?iu=/21775744923/external/single_preroll_skippable&sz=640x480&ciu_szs=300x250%2C728x90&gdfp_req=1&output=vast&unviewed_position_start=1&env=vp&impl=s&correlator=",this.dispatchRenderAdBreak(t),e.abrupt("return");case 12:i=r||!j(t.isOutstream),this.doAuction(t,!1).catch((function(e){k("Error bidding",e),t.isComplete=!0,t.key&&t.markBreakAsComplete(t.key,t.isFloating)})).finally((function(){k("Bidding finished"),t.assembleTagURL(i),n.dispatchRenderAdBreak(t)}));case 14:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"bidMultipleBreaks",value:function(e,t){var r=this;if(0!==e.length){var i=e.map((function(e){return r.doAuction(e,!0)}));Promise.allSettled(i).finally((function(){var i,n=null,o=-1,a=null;e.forEach((function(e){var t=b(e.getHighestBidWithSource(),2),r=t[0];t[1];r>o&&(o=r,n=e),e.isOutstream||(a=e),e.isComplete=!0,e.isMultiAuction=1}));var s={};if(n){var d=t||!j(n.isOutstream);n.assembleTagURL(d),s.bestBreak=n}if(n&&n.isOutstream&&a){var u=t||!j(a.isOutstream);a.assembleTagURL(u),s.instreamBreak=a}if(!n&&a){var l=t||!j(a.isOutstream);a.assembleTagURL(l),s.bestBreak=a}null!==(i=window.__ezDevtools)&&void 0!==i&&i.addMultiAuction&&__ezDevtools.addMultiAuction(e.map((function(e){var t=b(e.getHighestBidWithSource(),2),r=t[0],i=t[1];return{impressionId:e.impressionId,cpm:r,bidSource:i,isBest:e===s.bestBreak}}))),r.dispatchRenderMultipleAdBreaks(s)}))}}},{key:"addSlotParamsToAPSSlots",value:function(e,t){for(var r=0;r<e.length;r++)e[r].slotParams={gpid:t.gpid}}},{key:"addListener",value:function(e,t){this.target.addEventListener(e,t)}},{key:"dispatchRenderAdBreak",value:function(e){var t=new Event("RenderAdBreak");t.AdBreak=e,this.target.dispatchEvent(t)}},{key:"dispatchRenderMultipleAdBreaks",value:function(e){var t=new Event("RenderAdBreak");t.AdBreaks=e,this.target.dispatchEvent(t)}},{key:"getBreaks",value:function(e,t){var r=e+"$"+t+"$"+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0);return Object.values(this.breaks).filter((function(e){return e.key.includes(r)}))}},{key:"getFloatingBreaks",value:function(e,t){var r=e+"$"+t+"$"+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0);return Object.values(this.floatingBreaks).filter((function(e){return e.key.includes(r)}))}},{key:"getIncompleteBreaks",value:function(e,t){var r=e+"$"+t+"$"+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0);return Object.values(this.breaks).filter((function(e){return e.key.includes(r)&&!e.isComplete}))}},{key:"requestBreaks",value:(i=_(B().mark((function t(r,i,n,o,a,s,d){var u,l,c,p,f,h,v,m,b,y,_,g,w,P,S,O=this,A=arguments;return B().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=A.length>7&&void 0!==A[7]?A[7]:null,l=A.length>8&&void 0!==A[8]&&A[8],p=r+"$"+i+"$"+a,(c=A.length>9&&void 0!==A[9]&&A[9])?Object.keys(this.floatingBreaks).forEach((function(e){e.includes(p)&&delete O.floatingBreaks[e]})):Object.keys(this.breaks).forEach((function(e){e.includes(p)&&delete O.breaks[e]})),f=-1,h=-1,v=-1,m=-1,"object"===e(window.lastVideoFloor)&&window.lastVideoFloor.hasOwnProperty("last")&&(f=window.lastVideoFloor.last,h=window.lastVideoFloor.outstream,v=window.lastVideoFloor.instream,m=window.lastVideoFloor.highest),b=0,"ez-o"===r&&"undefined"!=typeof __ezOutstream&&__ezOutstream.UnfilledCnt?b=__ezOutstream.UnfilledCnt:"undefined"!=typeof __ezInstream&&__ezInstream.UnfilledCnt&&(b=__ezInstream.UnfilledCnt),y={ads_enabled:n,autoplay:s?1:0,content_id:i,floating:d?1:0,pageview_id:_ezaq.page_view_id,player_id:r,position_id:o,floor_version:0,prevfl:f,prevflo:h,prevfli:v,prevflh:m,unf_c:b,pv_ep:_ezaq.t_epoch},"undefined"!=typeof _ezaq&&_ezaq.hasOwnProperty("url")&&(y.parent_url=_ezaq.url),y.is_humix_app=window.is_humix_app?1:0,a&&(y.video_index=a),"undefined"!=typeof __ezOutstream&&__ezOutstream.hasOwnProperty("AdIndex")&&(y.ad_index=__ezOutstream.AdIndex),"undefined"!=typeof __ezOutstream&&__ezOutstream.hasOwnProperty("floorVersion")&&(y.floor_version=__ezOutstream.floorVersion),"undefined"!=typeof __ezOutstream&&__ezOutstream.hasOwnProperty("generatorVersion")&&(y.generator_version=__ezOutstream.generatorVersion),("undefined"!=typeof __ezOutstream&&__ezOutstream.rampUp||"undefined"!=typeof __ezInstream&&__ezInstream.rampUp)&&(y.reducer=1),"undefined"!=typeof __ezInstream&&__ezInstream.hasOwnProperty("EnableVideoDeals")&&(y.enable_deals=__ezInstream.EnableVideoDeals?1:0),"string"==typeof u&&(y.ad_unit=u),Bt(Pt,this,At).call(this,i)&&(y.use_gpt_outstream=1),"undefined"!=typeof __ezOutstream&&l&&(y.is_first_break=1),"1"===new URLSearchParams(window.location.href).get("ez_no_outstream_floor")&&(y.ez_no_outstream_floor="1"),"undefined"!=typeof _ezaq&&_ezaq.hasOwnProperty("ab_test_id")&&(y.mod=_ezaq.ab_test_id),_=window._ez_sa||window._ez_send_requests_through_ezoic||window.hasOwnProperty("ezIntType")&&"wp"===window.ezIntType?"https://g.ezoic.net":window.location.origin,(g=new URL("/ez-vasts",_)).search=new URLSearchParams(y),t.next=32,fetch(g).catch((function(e){w=e}));case 32:if(P=t.sent,!w){t.next=36;break}return console.error("Error:",w),t.abrupt("return",[]);case 36:return t.next=38,P.json();case 38:if((S=t.sent)&&0!==S.length){t.next=42;break}return console.error("No breaks receieved. Not bidding."),t.abrupt("return",[]);case 42:if(S.forEach((function(e){c?(O.floatingBreaks[e.key]=new wt(e),O.floatingBreaks[e.key].isFloating=!0):(O.breaks[e.key]=new wt(e),O.breaks[e.key].isFloating=!1)})),!c){t.next=45;break}return t.abrupt("return",this.getFloatingBreaks(r,i,a));case 45:return t.abrupt("return",this.getBreaks(r,i,a));case 46:case"end":return t.stop()}}),t,this)}))),function(e,t,r,n,o,a,s){return i.apply(this,arguments)})},{key:"biddingComplete",value:function(e){this.biddingInProcess[e]=!1}},{key:"getBiddingInProcess",value:function(e){return this.biddingInProcess[e]||!1}},{key:"recordBidders",value:function(e){e.forEach((function(e){__ez.vhb.bidders.hasOwnProperty(e.bidder)||(__ez.vhb.bidders[e.bidder]={bidsResponded:0,bidsWon:0,maxBidValue:-1}),__ez.vhb.bidders[e.bidder].bidsResponded++,__ez.vhb.bidders[e.bidder].maxBidValue<e.cpm&&(__ez.vhb.bidders[e.bidder].maxBidValue=e.cpm)}))}},{key:"recordWinForBidder",value:function(e,t){__ez.vhb.adsShown++,__ez.vhb.bidders.hasOwnProperty(e)||(__ez.vhb.bidders[e]={bidsResponded:1,bidsWon:0,maxBidValue:-1}),__ez.vhb.bidders[e].bidsWon++,__ez.vhb.bidders[e].maxBidValue<t&&(__ez.vhb.bidders[e].maxBidValue=t)}},{key:"setPrebidCPMEarnedFromPreviousAd",value:function(e,t){t?this.outstreamPrebidCPMFromPreviousAd=e:this.instreamPrebidCPMFromPreviousAd=e}},{key:"cleanupPrebidRenderer",value:function(e){k("No bids for adBreak, cleaning up",e),e.isComplete=!0,e.key&&e.markBreakAsComplete(e.key,e.isFloating),this.biddingInProcess[e.getPlayerId()]=!1;var t=new Event("NoBidsForPrebidRenderer");t.AdBreak=e,this.target.dispatchEvent(t)}},{key:"preloadAmazonH2BidLibrary",value:function(){"undefined"==typeof __ez||void 0===__ez.fads||void 0===__ez.fads.amznH2Bid||__ez.fads.amznH2Bid.loaded||"function"==typeof __ez.fads.loadLibrary&&__ez.fads.loadLibrary(__ez.fads.amznH2Bid.url,"amznH2Bid")}},{key:"isSingleAPSAuctionTestActive",value:function(){var e;return"true"===(null===(e=__ez)||void 0===e||null===(e=e.tf)||void 0===e?void 0:e.vamacsaa)}},{key:"shouldConsiderCustomBreaksOutstreamCollision",value:function(e){var t,r;if(!e.isOutstream&&e.isAdBreakCustomPosition()&&0===e.timeOffsetSeconds)return null===(r=ezVideoAdConductor)||void 0===r||null===(r=r.getVideoAdConductor())||void 0===r||null===(r=r.getOutstreamPlayer())||void 0===r?void 0:r.isAdInProgress();var i=null===(t=window.__ez)||void 0===t||null===(t=t.nextCustomBreak)||void 0===t?void 0:t.break;if(!i)return!1;if(i.isTriggered||i.isComplete||i.IsSkipped)return!1;if(!i.getIsPlayerCurrentlyFloating()&&e.isOutstream){var n=this.getTimeUntilNextBreak(e.getPlayerId(),i);if(n<=-1&&(n=window.__ez.nextCustomBreak.timeUntilBreak||0),n<=15)return!0;if(n<=30&&e.prebidParams&&e.prebidParams.maxduration>=16)return!0}return!1}},{key:"handleCustomBreaksOutstreamCollision",value:(r=_(B().mark((function e(t,r){var i,n,o,a,s;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isOutstream||!t.isAdBreakCustomPosition()||0!==t.timeOffsetSeconds){e.next=7;break}return k("Skipping custom break preroll since outstream is currently playing"),t.isTriggered=!0,t.isComplete=!0,t.key&&t.markBreakAsComplete(t.key,t.isFloating),this.biddingComplete(t.getPlayerId()),e.abrupt("return");case 7:i=window.__ez.nextCustomBreak,n=i.break,o=0;try{a=n.getPlayerId(),(o=this.getTimeUntilNextBreak(a,n))<=-1&&null!=i.timeUntilBreak&&(o=i.timeUntilBreak)}catch(e){o=null!==(s=i.timeUntilBreak)&&void 0!==s?s:0}if(!(o<=15)){e.next=16;break}return k("Waiting for custom break to finish before bidding",t.impressionId),e.next=15,new Promise((function(e){return setTimeout(e,1e3*o)}));case 15:this.bid(t,r);case 16:o<=30&&t.isOutstream&&t.prebidParams&&t.prebidParams.maxduration>=16&&(k("Updating maxduration to 15 seconds for outstream break",t.impressionId),t.prebidParams.maxduration=15,this.bid(t,r));case 17:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"getTimeUntilNextBreak",value:function(e,t){var r=-1;if(e){var i=t.getPlayerById(e);if(i&&"function"==typeof i.getCurrentVideoTime){var n=i.getCurrentVideoTime();null!=t.timeOffsetSeconds&&null!=n&&(r=t.timeOffsetSeconds-n)}}return r}},{key:"bidSingle",value:(t=_(B().mark((function e(){var t,r,i,n,o,a,s,d,u,l,c,p,f,h,v;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("true"===(null===(t=__ez)||void 0===t||null===(t=t.tf)||void 0===t?void 0:t.vaifgf)){e.next=2;break}return e.abrupt("return",!1);case 2:return window.__ezVideoFill||(window.__ezVideoFill={}),r=window._ez_sa||window._ez_send_requests_through_ezoic||window.hasOwnProperty("ezIntType")&&"wp"===window.ezIntType?"https://g.ezoic.net":window.location.origin,(i=new URL("/ez-vast-single",r)).search=new URLSearchParams({ads_enabled:2,pageview_id:_ezaq.page_view_id,content_id:"acqOGaOjHWf",player_id:"ez-4999",position_id:4999,floor_version:0,autoplay:1,floaating:1,nd:1,pv_ep:_ezaq.t_epoch}),e.prev=6,e.next=9,fetch(i);case 9:if((n=e.sent).ok){e.next=12;break}throw new Error("HTTP error! status: ".concat(n.status));case 12:return e.next=14,n.json();case 14:if((o=e.sent)&&o.vastURL){e.next=18;break}return k("No VAST URL in response"),e.abrupt("return",!1);case 18:(a=new wt(o)).isFloating=!1,window.__ezVideoFill.isFetching=!0,s=new DOMParser,d=!1;case 23:if(a.vastURL){e.next=27;break}return k("No VAST URL available"),e.abrupt("break",60);case 27:return e.next=29,fetch(a.vastURL);case 29:if((u=e.sent).ok){e.next=32;break}throw new Error("HTTP error! status: ".concat(u.status));case 32:return e.next=34,u.text();case 34:if(l=e.sent,c=s.parseFromString(l,"text/xml"),!((p=c.getElementsByTagName("VAST")[0])&&p.children.length>0)){e.next=46;break}return a.vastXML=c,f=d?a.videoFallbackFloors[a.bidFloorIndex]:a.videoAdBidFloorUnmodified,window.__ezVideoFill={isFetching:!1,bidFloor:f,bidHash:d?a.videoFallbackHashes[a.bidFloorIndex]:a.videoAdBidHash,adBreak:a},"undefined"!=typeof _ezaq&&"undefined"!=typeof __ez&&__ez.ce.AddPageviewEvent("google_informed_video_ad_fill",f),a.isOutstream&&"undefined"!=typeof __ezOutstream?__ezOutstream.UnfilledCnt=0:a.isOutstream||"undefined"==typeof __ezInstream||(__ezInstream.UnfilledCnt=0),a.isComplete=!0,e.abrupt("return",!0);case 46:if(!(a.bidFloorIndex<a.videoFallbackFloors.length-1)){e.next=57;break}return d&&a.bidFloorIndex++,a.retryCount++,(h=a.lastBidHash)&&h.includes(",")&&(h=encodeURIComponent(h)),(v=a.videoFallbackHashes[a.bidFloorIndex]).includes(",")&&(v=encodeURIComponent(v)),a.vastURL=a.vastURL.replace(/(eb_br%3D)[^%&]+/,"$1".concat(v)),a.lastBidHash=v,d=!0,e.abrupt("continue",23);case 57:return e.abrupt("break",60);case 60:a.isComplete=!0,e.next=66;break;case 63:e.prev=63,e.t0=e.catch(6),k("Error in bidSingle:",e.t0);case 66:return window.__ezVideoFill.isFetching=!1,e.abrupt("return",!1);case 68:case"end":return e.stop()}}),e,null,[[6,63]])}))),function(){return t.apply(this,arguments)})}]);var t,r,i,n}(),kt=function(){return d((function e(){o(this,e)}),[{key:"init",value:function(){__ez.vhb=new zt}}])}();var It,jt;It=new m,jt=new kt,It.init(),jt.init()})()})();